{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/pages/Articles/Articles.js\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport MediumCard from \"../../components/Cards/MediumCard/MediumCard.js\";\nimport LargeCard from \"../../components/Cards/LargeCard/LargeCard.js\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport Card from \"../../components/Cards/Card.js\";\nimport styles from \"./Articles.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport SmallCard from \"../../components/Cards/SmallCard/SmallCard.js\";\nimport { useHistory } from 'react-router-dom';\n\nconst Articles = props => {\n  const history = useHistory();\n  const [sidePanelFixed, setSidePanelFix] = useState(false);\n  const headerBoxRef = useRef();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    const fixNavbar = e => {\n      if (window.scrollY > headerBoxRef.current.clientHeight - 66) {\n        setSidePanelFix(true);\n      } else {\n        setSidePanelFix(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", fixNavbar);\n    return () => {\n      window.removeEventListener(\"scroll\", fixNavbar);\n    };\n  }, [sidePanelFixed]);\n  const [homepageLinks, setHomePageLinks] = useState({\n    links: []\n  });\n  useEffect(() => {\n    const getHomepageLinks = async () => {\n      const response = await fetch(\"articles/pages\");\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    getHomepageLinks().then(res => {\n      setHomePageLinks({\n        links: res[\"links\"]\n      });\n    });\n  }, []);\n\n  const getLinkFunction = linkType => {\n    switch (linkType) {\n      case Card.LinkType[\"video-youtube\"]:\n        return props.playVideo;\n\n      case Card.LinkType[\"article-internal\"]:\n        return articleLink => {\n          history.push(articleLink);\n        };\n\n      default:\n        break;\n    }\n  };\n\n  const renderOnceSidePanel = /*#__PURE__*/React.createElement(SidePanel, {\n    sideBarClicked: props.sideBarClicked,\n    setSideBarClicked: props.setSideBarClicked,\n    youtubeIds: props.youtubeIds,\n    getImageLink: props.getImageLink,\n    playVideo: props.playVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 33\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"Articles\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    ref: headerBoxRef,\n    className: styles[\"Header\"],\n    navbarClicked: props.navbarClicked,\n    setNavbarClicked: props.setNavbarClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"content-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"main-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, homepageLinks.links.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${styles[\"main-pane-item\"]}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(LargeCard, {\n      image: item.image,\n      date: item.date,\n      title: item.title,\n      text: item.description,\n      author: item.author,\n      LinkType: item.LinkType,\n      link: props.getHyperLink(item.LinkType)(item.to),\n      onClick: getLinkFunction(item.LinkType),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"side-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), sidePanelFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: props.topOffset,\n      right: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, renderOnceSidePanel) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: props.topOffset\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, renderOnceSidePanel)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"footer-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Articles;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/pages/Articles/Articles.js"],"names":["React","useRef","useState","useEffect","MediumCard","LargeCard","SidePanel","Card","styles","Header","Footer","SmallCard","useHistory","Articles","props","history","sidePanelFixed","setSidePanelFix","headerBoxRef","window","scrollTo","fixNavbar","e","scrollY","current","clientHeight","addEventListener","removeEventListener","homepageLinks","setHomePageLinks","links","getHomepageLinks","response","fetch","body","json","status","Error","message","then","res","getLinkFunction","linkType","LinkType","playVideo","articleLink","push","renderOnceSidePanel","sideBarClicked","setSideBarClicked","youtubeIds","getImageLink","navbarClicked","setNavbarClicked","map","item","image","date","title","description","author","getHyperLink","to","position","top","topOffset","right","marginTop"],"mappings":"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","sourcesContent":["import React,{useRef, useState, useEffect} from \"react\";\nimport MediumCard from \"../../components/Cards/MediumCard/MediumCard.js\";\nimport LargeCard from \"../../components/Cards/LargeCard/LargeCard.js\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport Card from \"../../components/Cards/Card.js\";\nimport styles from \"./Articles.module.css\";\nimport Header from \"../../components/Header/Header\"\nimport Footer from \"../../components/Footer/Footer\"\nimport SmallCard from \"../../components/Cards/SmallCard/SmallCard.js\";\nimport {useHistory} from 'react-router-dom'\n\nconst Articles = (props) => {\n  const history = useHistory();\n  const [sidePanelFixed, setSidePanelFix] = useState(false);\n  const headerBoxRef = useRef()\n  useEffect(() => {\n    window.scrollTo(0,0);\n  },[])\n  useEffect(() => {\n    const fixNavbar = (e) => {\n      if (window.scrollY >  (headerBoxRef.current.clientHeight-66)) {\n       \n        setSidePanelFix(true);\n      } else {\n        setSidePanelFix(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", fixNavbar);\n    return () => {\n      window.removeEventListener(\"scroll\", fixNavbar);\n    };\n  },[sidePanelFixed]);\n  const [homepageLinks, setHomePageLinks] = useState({\n    links: []\n  })\n  useEffect(() => {\n\n    const getHomepageLinks = async () => {\n      const response = await fetch(\"articles/pages\");\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n\n      return body;\n    };\n\n\n    getHomepageLinks().then((res) => {\n      setHomePageLinks({links: res[\"links\"]})\n    });\n    }, []);\n\n    const getLinkFunction = (linkType) => {\n      switch (linkType) {\n        case Card.LinkType[\"video-youtube\"]:\n          return props.playVideo;\n        case Card.LinkType[\"article-internal\"]:\n          return ((articleLink) => {\n            history.push(articleLink);\n          });\n        default:\n          break;\n      }\n    };\n\n\n  const renderOnceSidePanel =  (<SidePanel\n  sideBarClicked={props.sideBarClicked}\n  setSideBarClicked={props.setSideBarClicked}\n  youtubeIds={props.youtubeIds}\n  getImageLink={props.getImageLink}\n  playVideo={props.playVideo}\n />)\n  return (\n    \n    <div className={styles[\"Articles\"]}>\n    <Header ref={headerBoxRef} className={styles[\"Header\"]} navbarClicked={props.navbarClicked} setNavbarClicked={props.setNavbarClicked}/>\n      <div className={styles[\"content-pane\"]}>\n        <div className={styles[\"main-pane\"]}>\n            {homepageLinks.links.map((item) => {\n                 return (<div className={`${styles[\"main-pane-item\"]}`}>\n                    <LargeCard\n                      image={item.image}\n                      date={item.date}\n                      title={item.title}\n                      text={item.description}\n                      author={item.author}\n                      LinkType={item.LinkType}\n                      link={props.getHyperLink(item.LinkType)(item.to)}\n                      onClick={getLinkFunction(item.LinkType)}/>\n                 </div>)\n            })}\n         \n     \n        </div>\n        <div className={styles[\"side-pane\"]}>\n         \n        </div>\n        {sidePanelFixed ? (\n          <div style={{ position: \"fixed\", top: (props.topOffset), right: \"0px\"}}>\n            {renderOnceSidePanel}\n          </div>\n        \n      ) : (\n        <div style={{marginTop: (props.topOffset)}}>\n          {renderOnceSidePanel}\n        </div>\n      )}\n       \n      </div>\n    \n      <div className={styles[\"footer-container\"]}> \n          <Footer />\n        </div>\n    </div>\n    \n  );\n};\n\nexport default Articles;\n"]},"metadata":{},"sourceType":"module"}