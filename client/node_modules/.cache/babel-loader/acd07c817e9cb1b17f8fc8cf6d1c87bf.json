{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/AudioPlayer/AudioPlayer.js\";\nimport React, { useState, useRef, useEffect } from 'react';\n\nconst AudioPlayer = () => {\n  const [selectedTrack, setSelectedTrack] = useState({\n    \"title\": \"False Nine Podcast #17 Champions League RO16 first leg review\",\n    \"by\": \"Ishan Sharma, Susajjan Dhungana and Ojash Dangal\",\n    \"link\": \"https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a\",\n    \"duration\": \"35143625\",\n    \"date\": \"Sat, 12 Sep 2020 08:42:34 GMT\"\n  });\n  const [player, setPlayer] = useState(\"stopped\");\n  const audioRef = useRef();\n  const prevTrackRef = useRef();\n  const prevPlayerRef = useRef();\n  useEffect(() => {\n    prevTrackRef.current = selectedTrack;\n  }, [selectedTrack]);\n  useEffect(() => {\n    prevPlayerRef.current = player;\n  }, [player]);\n  useEffect(() => {\n    if (selectedTrack !== prevTrackRef.current) {\n      let track = selectedTrack.link;\n\n      if (track) {\n        audioRef.current.src = track;\n        audioRef.current.play();\n        setPlayer(\"playing\");\n      }\n    }\n  }, [selectedTrack]);\n  useEffect(() => {\n    if (player !== prevPlayerRef.current) {\n      if (player === \"paused\") {\n        audioRef.current.player.pause();\n      } else if (this.state.player === \"stopped\") {\n        audioRef.current.pause();\n        audioRef.current.currentTime = 0; // setSelectedTrack(null );\n      } else if (player === \"playing\" && prevPlayerRef === \"paused\") {\n        audioRef.current.play();\n      }\n    }\n  }, [player]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }\n  }, player === \"paused\" && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setPlayer(\"playing\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Play\"), player === \"playing\" && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setPlayer(\"paused\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Pause\"), player === \"playing\" || player === \"paused\" ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setPlayer(\"stopped\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Stop\") : \"\"), /*#__PURE__*/React.createElement(\"audio\", {\n    ref: audioRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default AudioPlayer;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/AudioPlayer/AudioPlayer.js"],"names":["React","useState","useRef","useEffect","AudioPlayer","selectedTrack","setSelectedTrack","player","setPlayer","audioRef","prevTrackRef","prevPlayerRef","current","track","link","src","play","pause","state","currentTime"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,MAAzB,EAAiCC,SAAjC,QAAiD,OAAjD;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACtB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCL,QAAQ,CAAC;AAAC,aAAQ,+DAAT;AAAyE,UAAK,kDAA9E;AAAiI,YAAO,8KAAxI;AAAuT,gBAAW,UAAlU;AAA6U,YAAO;AAApV,GAAD,CAAlD;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,SAAD,CAApC;AACA,QAAMQ,QAAQ,GAAGP,MAAM,EAAvB;AACA,QAAMQ,YAAY,GAAGR,MAAM,EAA3B;AACA,QAAMS,aAAa,GAAGT,MAAM,EAA5B;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,YAAY,CAACE,OAAb,GAAuBP,aAAvB;AACH,GAFQ,EAEP,CAACA,aAAD,CAFO,CAAT;AAIAF,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,aAAa,CAACC,OAAd,GAAwBL,MAAxB;AACH,GAFQ,EAEN,CAACA,MAAD,CAFM,CAAT;AAMAJ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGE,aAAa,KAAKK,YAAY,CAACE,OAAlC,EAA0C;AACtC,UAAIC,KAAK,GAAGR,aAAa,CAACS,IAA1B;;AAEA,UAAGD,KAAH,EAAS;AACLJ,QAAAA,QAAQ,CAACG,OAAT,CAAiBG,GAAjB,GAAuBF,KAAvB;AACAJ,QAAAA,QAAQ,CAACG,OAAT,CAAiBI,IAAjB;AACAR,QAAAA,SAAS,CAAC,SAAD,CAAT;AACH;AAGJ;AACJ,GAZQ,EAYN,CAACH,aAAD,CAZM,CAAT;AAcAF,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGI,MAAM,KAAKI,aAAa,CAACC,OAA5B,EAAoC;AAChC,UAAIL,MAAM,KAAK,QAAf,EAAyB;AACrBE,QAAAA,QAAQ,CAACG,OAAT,CAAiBL,MAAjB,CAAwBU,KAAxB;AACD,OAFH,MAES,IAAI,KAAKC,KAAL,CAAWX,MAAX,KAAsB,SAA1B,EAAqC;AAC1CE,QAAAA,QAAQ,CAACG,OAAT,CAAiBK,KAAjB;AACAR,QAAAA,QAAQ,CAACG,OAAT,CAAiBO,WAAjB,GAA+B,CAA/B,CAF0C,CAG1C;AACD,OAJM,MAIA,IACLZ,MAAM,KAAK,SAAX,IACAI,aAAa,KAAK,QAFb,EAGL;AACAF,QAAAA,QAAQ,CAACG,OAAT,CAAiBI,IAAjB;AACD;AAGN;AACJ,GAjBQ,EAiBN,CAACT,MAAD,CAjBM,CAAT;AAsBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACFA,MAAM,KAAK,QAAX,iBACC;AAAQ,IAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,SAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFC,EAMFD,MAAM,KAAK,SAAX,iBACC;AAAQ,IAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,QAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPC,EAWFD,MAAM,KAAK,SAAX,IAAwBA,MAAM,KAAK,QAAnC,gBACC;AAAQ,IAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,SAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAKG,EAhBD,CADL,eAsBA;AAAO,IAAA,GAAG,EAAEC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBA,CADJ;AA2BH,CA/ED;;AAiFA,eAAeL,WAAf","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\n\nconst AudioPlayer = () => {\n    const [selectedTrack, setSelectedTrack] = useState({\"title\":\"False Nine Podcast #17 Champions League RO16 first leg review\",\"by\":\"Ishan Sharma, Susajjan Dhungana and Ojash Dangal\",\"link\":\"https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a\",\"duration\":\"35143625\",\"date\":\"Sat, 12 Sep 2020 08:42:34 GMT\"});\n    const [player, setPlayer] = useState(\"stopped\")\n    const audioRef = useRef();\n    const prevTrackRef = useRef();\n    const prevPlayerRef = useRef();\n    useEffect(() => {\n        prevTrackRef.current = selectedTrack\n    },[selectedTrack]);\n\n    useEffect(() => {\n        prevPlayerRef.current = player;\n    }, [player])\n\n\n\n    useEffect(() => {\n        if(selectedTrack !== prevTrackRef.current){\n            let track = selectedTrack.link;\n\n            if(track){\n                audioRef.current.src = track;\n                audioRef.current.play();\n                setPlayer(\"playing\")\n            }\n\n            \n        }\n    }, [selectedTrack])\n\n    useEffect(() => {\n        if(player !== prevPlayerRef.current){\n            if (player === \"paused\") {\n                audioRef.current.player.pause();\n              } else if (this.state.player === \"stopped\") {\n                audioRef.current.pause();\n                audioRef.current.currentTime = 0;\n                // setSelectedTrack(null );\n              } else if (\n                player === \"playing\" &&\n                prevPlayerRef === \"paused\"\n              ) {\n                audioRef.current.play();\n              }\n\n            \n        }\n    }, [player])\n\n    \n\n\n    return(\n        <div>\n             <div>\n          {player === \"paused\" && (\n            <button onClick={() => setPlayer(\"playing\")}>\n              Play\n            </button>\n          )}\n          {player === \"playing\" && (\n            <button onClick={() => setPlayer(\"paused\" )}>\n              Pause\n            </button>\n          )}\n          {player === \"playing\" || player === \"paused\" ? (\n            <button onClick={() => setPlayer(\"stopped\")}>\n              Stop\n            </button>\n          ) : (\n              \"\"\n            )}\n        </div>\n\n\n        <audio ref={audioRef}/>\n{/*https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a  */}\n        </div>\n    )\n}\n\nexport default AudioPlayer;"]},"metadata":{},"sourceType":"module"}