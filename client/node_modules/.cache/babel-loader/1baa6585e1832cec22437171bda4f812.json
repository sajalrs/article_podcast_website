{"ast":null,"code":"import { Block, Text } from 'slate';\nimport React from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defineProperty = _defineProperty;\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x.default : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar lib = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  /**\n   * Constants.\n   */\n\n  var IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n  var MODIFIERS = {\n    alt: 'altKey',\n    control: 'ctrlKey',\n    meta: 'metaKey',\n    shift: 'shiftKey'\n  };\n  var ALIASES = {\n    add: '+',\n    break: 'pause',\n    cmd: 'meta',\n    command: 'meta',\n    ctl: 'control',\n    ctrl: 'control',\n    del: 'delete',\n    down: 'arrowdown',\n    esc: 'escape',\n    ins: 'insert',\n    left: 'arrowleft',\n    mod: IS_MAC ? 'meta' : 'control',\n    opt: 'alt',\n    option: 'alt',\n    return: 'enter',\n    right: 'arrowright',\n    space: ' ',\n    spacebar: ' ',\n    up: 'arrowup',\n    win: 'meta',\n    windows: 'meta'\n  };\n  var CODES = {\n    backspace: 8,\n    tab: 9,\n    enter: 13,\n    shift: 16,\n    control: 17,\n    alt: 18,\n    pause: 19,\n    capslock: 20,\n    escape: 27,\n    ' ': 32,\n    pageup: 33,\n    pagedown: 34,\n    end: 35,\n    home: 36,\n    arrowleft: 37,\n    arrowup: 38,\n    arrowright: 39,\n    arrowdown: 40,\n    insert: 45,\n    delete: 46,\n    meta: 91,\n    numlock: 144,\n    scrolllock: 145,\n    ';': 186,\n    '=': 187,\n    ',': 188,\n    '-': 189,\n    '.': 190,\n    '/': 191,\n    '`': 192,\n    '[': 219,\n    '\\\\': 220,\n    ']': 221,\n    '\\'': 222\n  };\n\n  for (var f = 1; f < 20; f++) {\n    CODES['f' + f] = 111 + f;\n  }\n  /**\n   * Is hotkey?\n   */\n\n\n  function isHotkey(hotkey, options, event) {\n    if (options && !('byKey' in options)) {\n      event = options;\n      options = null;\n    }\n\n    if (!Array.isArray(hotkey)) {\n      hotkey = [hotkey];\n    }\n\n    var array = hotkey.map(function (string) {\n      return parseHotkey(string, options);\n    });\n\n    var check = function check(e) {\n      return array.some(function (object) {\n        return compareHotkey(object, e);\n      });\n    };\n\n    var ret = event == null ? check : check(event);\n    return ret;\n  }\n\n  function isCodeHotkey(hotkey, event) {\n    return isHotkey(hotkey, event);\n  }\n\n  function isKeyHotkey(hotkey, event) {\n    return isHotkey(hotkey, {\n      byKey: true\n    }, event);\n  }\n  /**\n   * Parse.\n   */\n\n\n  function parseHotkey(hotkey, options) {\n    var byKey = options && options.byKey;\n    var ret = {}; // Special case to handle the `+` key since we use it as a separator.\n\n    hotkey = hotkey.replace('++', '+add');\n    var values = hotkey.split('+');\n    var length = values.length; // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n    for (var k in MODIFIERS) {\n      ret[MODIFIERS[k]] = false;\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n        var optional = value.endsWith('?');\n\n        if (optional) {\n          value = value.slice(0, -1);\n        }\n\n        var name = toKeyName(value);\n        var modifier = MODIFIERS[name];\n\n        if (length === 1 || !modifier) {\n          if (byKey) {\n            ret.key = name;\n          } else {\n            ret.which = toKeyCode(value);\n          }\n        }\n\n        if (modifier) {\n          ret[modifier] = optional ? null : true;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return ret;\n  }\n  /**\n   * Compare.\n   */\n\n\n  function compareHotkey(object, event) {\n    for (var key in object) {\n      var expected = object[key];\n      var actual = void 0;\n\n      if (expected == null) {\n        continue;\n      }\n\n      if (key === 'key') {\n        actual = event.key.toLowerCase();\n      } else if (key === 'which') {\n        actual = expected === 91 && event.which === 93 ? 91 : event.which;\n      } else {\n        actual = event[key];\n      }\n\n      if (actual == null && expected === false) {\n        continue;\n      }\n\n      if (actual !== expected) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n  /**\n   * Utils.\n   */\n\n\n  function toKeyCode(name) {\n    name = toKeyName(name);\n    var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n    return code;\n  }\n\n  function toKeyName(name) {\n    name = name.toLowerCase();\n    name = ALIASES[name] || name;\n    return name;\n  }\n  /**\n   * Export.\n   */\n\n\n  exports.default = isHotkey;\n  exports.isHotkey = isHotkey;\n  exports.isCodeHotkey = isCodeHotkey;\n  exports.isKeyHotkey = isKeyHotkey;\n  exports.parseHotkey = parseHotkey;\n  exports.compareHotkey = compareHotkey;\n  exports.toKeyCode = toKeyCode;\n  exports.toKeyName = toKeyName;\n});\nvar isHotkey = unwrapExports(lib);\nvar lib_1 = lib.isHotkey;\nvar lib_2 = lib.isCodeHotkey;\nvar lib_3 = lib.isKeyHotkey;\nvar lib_4 = lib.parseHotkey;\nvar lib_5 = lib.compareHotkey;\nvar lib_6 = lib.toKeyCode;\nvar lib_7 = lib.toKeyName;\n\nvar Keymap = function Keymap(shortcuts, options) {\n  var config = _objectSpread({\n    if: function _if() {\n      return true;\n    }\n  }, options);\n\n  var functions = Object.keys(shortcuts).map(function (key) {\n    var isKeyPressed = isHotkey(key);\n    var command = shortcuts[key];\n\n    var check = function check(event, editor) {\n      return isKeyPressed(event) && config.if(editor);\n    };\n\n    var handler = typeof command == \"string\" ? function (event, editor) {\n      event.preventDefault();\n      editor.command(command);\n    } : command;\n    return {\n      check: check,\n      handler: handler\n    };\n  });\n  return {\n    onKeyDown: function onKeyDown(event, editor, next) {\n      var shortcut = functions.find(function (shortcut) {\n        return shortcut.check(event, editor);\n      });\n\n      if (shortcut) {\n        return shortcut.handler(event, editor, next);\n      } else {\n        return next();\n      }\n    }\n  };\n};\n\nvar isList = function isList(blocks, block) {\n  return block.type == blocks.unordered_list || block.type == blocks.ordered_list;\n};\n\nvar wrapList = function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var type = options.type || blocks.unordered_list;\n  var rootBlocks = editor.value.document.getRootBlocksAtRange(editor.value.selection);\n  editor.withoutNormalizing(function () {\n    rootBlocks.forEach(function (block) {\n      if (isList(blocks, block)) return;\n      editor.wrapBlockByKey(block.key, type);\n      editor.wrapBlockByKey(block.key, blocks.list_item);\n      editor.setNodeByKey(block.key, blocks.list_item_child);\n    });\n  });\n};\n\nvar unwrapListByKey = function (_ref, editor, key) {\n  var blocks = _ref.blocks;\n  var listItem = editor.value.document.getNode(key);\n  editor.withoutNormalizing(function () {\n    editor.unwrapNodeByKey(listItem.key);\n    var parent = editor.value.document.getParent(listItem.key);\n    var itemIndex = parent.nodes.findIndex(function (node) {\n      return node.key === listItem.key;\n    });\n    listItem.nodes.forEach(function (itemChild, index) {\n      editor.moveNodeByKey(itemChild.key, parent.key, index + itemIndex);\n\n      if (itemChild.type == blocks.list_item_child) {\n        editor.setNodeByKey(itemChild.key, {\n          type: blocks[\"default\"]\n        });\n      }\n    });\n    editor.removeNodeByKey(listItem.key);\n  });\n};\n\nvar unwrapList = function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var listItemChildren = editor.value.document.getNodesAtRange(editor.value.selection).filter(function (node) {\n    return node.type == blocks.list_item_child;\n  });\n  var furthestListItems = listItemChildren.map(function (listItemChild) {\n    return editor.value.document.getFurthest(listItemChild.key, function (node) {\n      return node.type == blocks.list_item;\n    });\n  }).filter(function (listItemChild, index, array) {\n    return array.indexOf(listItemChild) == index;\n  });\n  furthestListItems.forEach(function (listItem) {\n    unwrapListByKey({\n      blocks: blocks\n    }, editor, listItem.key);\n  });\n};\n\nvar toggleList = function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _editor$value = editor.value,\n      document = _editor$value.document,\n      startBlock = _editor$value.startBlock;\n  var type = options.type || blocks.unordered_list;\n  var parent = document.getParent(startBlock.key);\n  var isList = parent.type == blocks.list_item;\n  if (!isList) return editor.wrapList({\n    type: type\n  });\n  var list = document.getParent(parent.key);\n  var sameType = list.type == type;\n\n  if (sameType) {\n    editor.unwrapList();\n  } else {\n    editor.setNodeByKey(list.key, type);\n  }\n};\n\nvar decreaseListItemDepth = function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var _editor$value = editor.value,\n      document = _editor$value.document,\n      startBlock = _editor$value.startBlock;\n  var listItem = document.getParent(startBlock.key);\n  if (listItem.type != blocks.list_item) return;\n  var list = document.getParent(listItem.key);\n  var parentListItem = document.getParent(list.key);\n  if (parentListItem.type != blocks.list_item) return;\n  var parentList = document.getParent(parentListItem.key);\n  var index = parentList.nodes.indexOf(parentListItem);\n  var otherItems = list.nodes.skipUntil(function (item) {\n    return item === listItem;\n  }).rest();\n\n  if (!otherItems.isEmpty()) {\n    var newList = Block.create({\n      object: \"block\",\n      type: list.type\n    });\n    editor.withoutNormalizing(function () {\n      editor.insertNodeByKey(listItem.key, listItem.nodes.size, newList);\n      editor.moveNodeByKey(listItem.key, parentList.key, index + 1);\n      otherItems.forEach(function (item, index) {\n        return editor.moveNodeByKey(item.key, newList.key, newList.nodes.size + index);\n      });\n    });\n  } else {\n    editor.moveNodeByKey(listItem.key, parentList.key, index + 1);\n  }\n};\n\nvar increaseListItemDepth = function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var _editor$value = editor.value,\n      document = _editor$value.document,\n      startBlock = _editor$value.startBlock;\n  var listItem = document.getParent(startBlock.key);\n  var previousListItem = document.getPreviousSibling(listItem.key);\n  var list = document.getParent(listItem.key);\n  if (!listItem) return;\n  if (!previousListItem) return; // Because of our schema constraints, we know that the second item must be a\n  // list if it exists.\n\n  var existingList = previousListItem.nodes.get(1);\n\n  if (existingList) {\n    editor.withoutNormalizing(function () {\n      editor.moveNodeByKey(listItem.key, existingList.key, existingList.nodes.size);\n    });\n  } else {\n    var newList = Block.create({\n      object: \"block\",\n      type: list.type\n    });\n    editor.withoutNormalizing(function () {\n      editor.insertNodeByKey(previousListItem.key, previousListItem.nodes.size, newList);\n      editor.moveNodeByKey(listItem.key, newList.key, 0);\n    });\n  }\n};\n\nvar wrapWithOptions = function wrapWithOptions(fn, options) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fn.apply(void 0, [options].concat(args));\n  };\n};\n\nvar createCommands = function (options) {\n  return {\n    wrapList: wrapWithOptions(wrapList, options),\n    unwrapList: wrapWithOptions(unwrapList, options),\n    toggleList: wrapWithOptions(toggleList, options),\n    unwrapListByKey: wrapWithOptions(unwrapListByKey, options),\n    decreaseListItemDepth: wrapWithOptions(decreaseListItemDepth, options),\n    increaseListItemDepth: wrapWithOptions(increaseListItemDepth, options)\n  };\n};\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar arrayWithHoles = _arrayWithHoles;\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nvar iterableToArrayLimit = _iterableToArrayLimit;\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar arrayLikeToArray = _arrayLikeToArray;\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nvar unsupportedIterableToArray = _unsupportedIterableToArray;\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar nonIterableRest = _nonIterableRest;\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nvar slicedToArray = _slicedToArray;\n\nvar sameType = function sameType(node, other) {\n  return node.type == other.type;\n};\n\nvar createNormalizeNode = function (_ref) {\n  var blocks = _ref.blocks;\n\n  var isList = function isList(block) {\n    return block && (block.type == blocks.unordered_list || block.type == blocks.ordered_list);\n  };\n\n  return function (node, editor, next) {\n    if (node.object !== \"document\" && node.object !== \"block\") return next();\n    var mergable = node.nodes.map(function (child, index) {\n      if (!isList(child)) {\n        return null;\n      }\n\n      var adjacent = node.nodes.get(index + 1);\n\n      if (!adjacent || !isList(adjacent) || !sameType(child, adjacent)) {\n        return null;\n      }\n\n      return [child, adjacent];\n    }).filter(function (node) {\n      return node;\n    });\n    if (mergable.isEmpty()) return next();\n    return function (editor) {\n      mergable.reverse().forEach(function (_ref2) {\n        var _ref3 = slicedToArray(_ref2, 2),\n            list = _ref3[0],\n            adjacent = _ref3[1];\n\n        var updatedAdjacent = editor.value.document.getDescendant(adjacent.key);\n        updatedAdjacent.nodes.forEach(function (child, index) {\n          editor.withoutNormalizing(function () {\n            editor.moveNodeByKey(child.key, list.key, list.nodes.size + index);\n          });\n        });\n        editor.withoutNormalizing(function () {\n          editor.removeNodeByKey(adjacent.key);\n        });\n      });\n    };\n  };\n};\n\nfunction createCommonjsModule$1(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar _extends_1 = createCommonjsModule$1(function (module) {\n  function _extends() {\n    module.exports = _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  module.exports = _extends;\n});\n\nvar createRenderBlock = function (_ref) {\n  var blocks = _ref.blocks,\n      classNames = _ref.classNames;\n  return function (props, editor, next) {\n    var node = props.node;\n\n    switch (node.type) {\n      case blocks.unordered_list:\n        return /*#__PURE__*/React.createElement(\"ul\", _extends_1({\n          className: classNames.unordered_list\n        }, props.attributes, {\n          style: {\n            listStylePosition: \"inside\"\n          }\n        }), props.children);\n\n      case blocks.ordered_list:\n        {\n          return /*#__PURE__*/React.createElement(\"ol\", _extends_1({\n            className: classNames.ordered_list\n          }, props.attributes, {\n            style: {\n              listStylePosition: \"inside\"\n            }\n          }), props.children);\n        }\n\n      case blocks.list_item:\n        {\n          return /*#__PURE__*/React.createElement(\"li\", _extends_1({\n            className: classNames.list_item\n          }, props.attributes), props.children);\n        }\n\n      case blocks.list_item_child:\n        {\n          return /*#__PURE__*/React.createElement(\"span\", _extends_1({\n            className: classNames.list_item_child\n          }, props.attributes), props.children);\n        }\n\n      default:\n        return next();\n    }\n  };\n};\n\nvar createSchema = function (_ref) {\n  var _blocks;\n\n  var blocks = _ref.blocks;\n  return {\n    blocks: (_blocks = {}, defineProperty(_blocks, blocks.unordered_list, {\n      nodes: [{\n        match: {\n          type: blocks.list_item\n        }\n      }]\n    }), defineProperty(_blocks, blocks.ordered_list, {\n      nodes: [{\n        match: {\n          type: blocks.list_item\n        }\n      }]\n    }), defineProperty(_blocks, blocks.list_item, {\n      parent: [{\n        type: blocks.unordered_list\n      }, {\n        type: blocks.ordered_list\n      }],\n      nodes: [{\n        match: {\n          type: blocks.list_item_child\n        },\n        min: 1,\n        max: 1\n      }, {\n        match: [{\n          type: blocks.unordered_list\n        }, {\n          type: blocks.ordered_list\n        }],\n        min: 0,\n        max: 1\n      }],\n      normalize: function normalize(editor, error) {\n        switch (error.code) {\n          case \"child_min_invalid\":\n            editor.insertNodeByKey(error.node.key, 0, Block.create({\n              type: blocks.list_item_child,\n              nodes: [Text.create()]\n            }));\n            return;\n\n          case \"child_type_invalid\":\n            editor.wrapBlockByKey(error.child.key, {\n              type: blocks.list_item_child\n            });\n            return;\n\n          case \"parent_type_invalid\":\n            editor.wrapBlockByKey(error.node.key, blocks.unordered_list);\n            return;\n\n          default:\n            return;\n        }\n      }\n    }), _blocks)\n  };\n};\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar index = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var config = _objectSpread$1({}, options);\n\n  var blocks = _objectSpread$1({\n    unordered_list: \"unordered-list\",\n    ordered_list: \"ordered-list\",\n    list_item: \"list-item\",\n    list_item_child: \"list-item-child\",\n    \"default\": \"paragraph\"\n  }, config.blocks);\n\n  var classNames = _objectSpread$1({\n    unordered_list: \"unordered-list\",\n    ordered_list: \"ordered-list\",\n    list_item: \"list-item\",\n    list_item_child: \"list-item-child\"\n  }, config.classNames);\n\n  var commands = createCommands({\n    blocks: blocks\n  });\n\n  var isListItem = function isListItem(block) {\n    return block && block.type == blocks.list_item;\n  };\n\n  var getListItem = function getListItem(editor, block) {\n    var possibleListItem = editor.value.document.getParent(block.key);\n    return isListItem(possibleListItem) ? possibleListItem : null;\n  };\n\n  var isList = function isList(block) {\n    return block && (block.type == blocks.unordered_list || block.type == blocks.ordered_list);\n  };\n\n  var getList = function getList(editor, block) {\n    var possibleList = editor.value.document.getParent(block.key);\n    return isList(possibleList) ? possibleList : null;\n  };\n\n  var onBackspace = function onBackspace(event, editor, next) {\n    var selection = editor.value.selection;\n    if (selection.isExpanded) return next();\n    if (selection.start.offset !== 0) return next();\n    var listItem = getListItem(editor, editor.value.startBlock);\n    var list = getList(editor, listItem);\n    var parentListItem = getListItem(editor, list);\n\n    if (parentListItem) {\n      editor.decreaseListItemDepth();\n      return;\n    }\n\n    editor.unwrapList();\n  };\n\n  var onEnter = function onEnter(event, editor, next) {\n    var _editor$value = editor.value,\n        selection = _editor$value.selection,\n        startBlock = _editor$value.startBlock;\n    event.preventDefault();\n    if (selection.isExpanded) editor[\"delete\"]();\n\n    if (selection.start.offset === 0 && startBlock.getText() === \"\") {\n      var _listItem = getListItem(editor, editor.value.startBlock);\n\n      var list = getList(editor, _listItem);\n      var parentListItem = getListItem(editor, list);\n\n      if (parentListItem) {\n        editor.decreaseListItemDepth();\n        return;\n      }\n\n      editor.unwrapList();\n      return;\n    }\n\n    var listItem = getListItem(editor, editor.value.startBlock);\n    editor.splitDescendantsByKey(listItem.key, selection.start.key, selection.start.offset);\n  };\n\n  var onShiftEnter = function onShiftEnter(event, editor, next) {\n    event.preventDefault();\n    editor.insertText(\"\\n\");\n  };\n\n  var schema = createSchema({\n    blocks: blocks\n  });\n  var normalizeNode = createNormalizeNode({\n    blocks: blocks\n  });\n  var renderBlock = createRenderBlock({\n    blocks: blocks,\n    classNames: classNames\n  });\n  return [{\n    commands: {\n      wrapList: commands.wrapList,\n      unwrapList: commands.unwrapList,\n      toggleList: commands.toggleList,\n      decreaseListItemDepth: commands.decreaseListItemDepth,\n      increaseListItemDepth: commands.increaseListItemDepth\n    },\n    normalizeNode: normalizeNode,\n    renderBlock: renderBlock,\n    renderNode: renderBlock,\n    // COMPAT: renderNode is removed in slate\n    schema: schema\n  }, Keymap({\n    backspace: onBackspace,\n    enter: onEnter,\n    \"shift+enter\": onShiftEnter,\n    tab: \"increaseListItemDepth\",\n    \"shift+tab\": \"decreaseListItemDepth\"\n  }, {\n    \"if\": function _if(editor) {\n      return !!getListItem(editor, editor.value.startBlock);\n    }\n  })];\n};\n\nexport default index;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/node_modules/@convertkit/slate-lists/dist/index.esm.js"],"names":["Block","Text","React","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_defineProperty$1","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","unwrapExports","x","__esModule","prototype","hasOwnProperty","call","default","createCommonjsModule","fn","module","exports","lib","IS_MAC","window","test","navigator","platform","MODIFIERS","alt","control","meta","shift","ALIASES","add","break","cmd","command","ctl","ctrl","del","down","esc","ins","left","mod","opt","option","return","right","space","spacebar","up","win","windows","CODES","backspace","tab","enter","pause","capslock","escape","pageup","pagedown","end","home","arrowleft","arrowup","arrowright","arrowdown","insert","delete","numlock","scrolllock","f","isHotkey","hotkey","options","event","Array","isArray","array","map","string","parseHotkey","check","e","some","object","compareHotkey","ret","isCodeHotkey","isKeyHotkey","byKey","replace","values","split","k","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","next","done","optional","endsWith","slice","name","toKeyName","modifier","which","toKeyCode","err","expected","actual","toLowerCase","code","toUpperCase","charCodeAt","lib_1","lib_2","lib_3","lib_4","lib_5","lib_6","lib_7","Keymap","shortcuts","config","if","_if","functions","isKeyPressed","editor","handler","preventDefault","onKeyDown","shortcut","find","isList","blocks","block","type","unordered_list","ordered_list","wrapList","_ref","rootBlocks","document","getRootBlocksAtRange","selection","withoutNormalizing","wrapBlockByKey","list_item","setNodeByKey","list_item_child","unwrapListByKey","listItem","getNode","unwrapNodeByKey","parent","getParent","itemIndex","nodes","findIndex","node","itemChild","index","moveNodeByKey","removeNodeByKey","unwrapList","listItemChildren","getNodesAtRange","furthestListItems","listItemChild","getFurthest","indexOf","toggleList","_editor$value","startBlock","list","sameType","decreaseListItemDepth","parentListItem","parentList","otherItems","skipUntil","item","rest","isEmpty","newList","create","insertNodeByKey","size","increaseListItemDepth","previousListItem","getPreviousSibling","existingList","get","wrapWithOptions","_len","args","_key","apply","createCommands","_arrayWithHoles","arr","arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_i","_s","push","iterableToArrayLimit","_arrayLikeToArray","len","arr2","arrayLikeToArray","_unsupportedIterableToArray","o","minLen","n","toString","constructor","from","unsupportedIterableToArray","_nonIterableRest","TypeError","nonIterableRest","_slicedToArray","slicedToArray","other","createNormalizeNode","mergable","child","adjacent","reverse","_ref2","_ref3","updatedAdjacent","getDescendant","createCommonjsModule$1","_extends_1","_extends","assign","createRenderBlock","classNames","props","createElement","className","attributes","style","listStylePosition","children","createSchema","_blocks","match","min","max","normalize","error","enumerableOnly","symbols","_objectSpread$1","getOwnPropertyDescriptors","defineProperties","commands","isListItem","getListItem","possibleListItem","getList","possibleList","onBackspace","isExpanded","start","offset","onEnter","getText","_listItem","splitDescendantsByKey","onShiftEnter","insertText","schema","normalizeNode","renderBlock","renderNode"],"mappings":"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","sourcesContent":["import { Block, Text } from 'slate';\nimport React from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defineProperty = _defineProperty;\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x.default : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar lib = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?');\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key') {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;\n});\n\nvar isHotkey = unwrapExports(lib);\nvar lib_1 = lib.isHotkey;\nvar lib_2 = lib.isCodeHotkey;\nvar lib_3 = lib.isKeyHotkey;\nvar lib_4 = lib.parseHotkey;\nvar lib_5 = lib.compareHotkey;\nvar lib_6 = lib.toKeyCode;\nvar lib_7 = lib.toKeyName;\n\nvar Keymap = function Keymap(shortcuts, options) {\n  var config = _objectSpread({\n    if: function _if() {\n      return true;\n    }\n  }, options);\n\n  var functions = Object.keys(shortcuts).map(function (key) {\n    var isKeyPressed = isHotkey(key);\n    var command = shortcuts[key];\n\n    var check = function check(event, editor) {\n      return isKeyPressed(event) && config.if(editor);\n    };\n\n    var handler = typeof command == \"string\" ? function (event, editor) {\n      event.preventDefault();\n      editor.command(command);\n    } : command;\n    return {\n      check: check,\n      handler: handler\n    };\n  });\n  return {\n    onKeyDown: function onKeyDown(event, editor, next) {\n      var shortcut = functions.find(function (shortcut) {\n        return shortcut.check(event, editor);\n      });\n\n      if (shortcut) {\n        return shortcut.handler(event, editor, next);\n      } else {\n        return next();\n      }\n    }\n  };\n};\n\nvar isList = function isList(blocks, block) {\n  return block.type == blocks.unordered_list || block.type == blocks.ordered_list;\n};\n\nvar wrapList = (function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var type = options.type || blocks.unordered_list;\n  var rootBlocks = editor.value.document.getRootBlocksAtRange(editor.value.selection);\n  editor.withoutNormalizing(function () {\n    rootBlocks.forEach(function (block) {\n      if (isList(blocks, block)) return;\n      editor.wrapBlockByKey(block.key, type);\n      editor.wrapBlockByKey(block.key, blocks.list_item);\n      editor.setNodeByKey(block.key, blocks.list_item_child);\n    });\n  });\n});\n\nvar unwrapListByKey = (function (_ref, editor, key) {\n  var blocks = _ref.blocks;\n  var listItem = editor.value.document.getNode(key);\n  editor.withoutNormalizing(function () {\n    editor.unwrapNodeByKey(listItem.key);\n    var parent = editor.value.document.getParent(listItem.key);\n    var itemIndex = parent.nodes.findIndex(function (node) {\n      return node.key === listItem.key;\n    });\n    listItem.nodes.forEach(function (itemChild, index) {\n      editor.moveNodeByKey(itemChild.key, parent.key, index + itemIndex);\n\n      if (itemChild.type == blocks.list_item_child) {\n        editor.setNodeByKey(itemChild.key, {\n          type: blocks[\"default\"]\n        });\n      }\n    });\n    editor.removeNodeByKey(listItem.key);\n  });\n});\n\nvar unwrapList = (function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var listItemChildren = editor.value.document.getNodesAtRange(editor.value.selection).filter(function (node) {\n    return node.type == blocks.list_item_child;\n  });\n  var furthestListItems = listItemChildren.map(function (listItemChild) {\n    return editor.value.document.getFurthest(listItemChild.key, function (node) {\n      return node.type == blocks.list_item;\n    });\n  }).filter(function (listItemChild, index, array) {\n    return array.indexOf(listItemChild) == index;\n  });\n  furthestListItems.forEach(function (listItem) {\n    unwrapListByKey({\n      blocks: blocks\n    }, editor, listItem.key);\n  });\n});\n\nvar toggleList = (function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _editor$value = editor.value,\n      document = _editor$value.document,\n      startBlock = _editor$value.startBlock;\n  var type = options.type || blocks.unordered_list;\n  var parent = document.getParent(startBlock.key);\n  var isList = parent.type == blocks.list_item;\n  if (!isList) return editor.wrapList({\n    type: type\n  });\n  var list = document.getParent(parent.key);\n  var sameType = list.type == type;\n\n  if (sameType) {\n    editor.unwrapList();\n  } else {\n    editor.setNodeByKey(list.key, type);\n  }\n});\n\nvar decreaseListItemDepth = (function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var _editor$value = editor.value,\n      document = _editor$value.document,\n      startBlock = _editor$value.startBlock;\n  var listItem = document.getParent(startBlock.key);\n  if (listItem.type != blocks.list_item) return;\n  var list = document.getParent(listItem.key);\n  var parentListItem = document.getParent(list.key);\n  if (parentListItem.type != blocks.list_item) return;\n  var parentList = document.getParent(parentListItem.key);\n  var index = parentList.nodes.indexOf(parentListItem);\n  var otherItems = list.nodes.skipUntil(function (item) {\n    return item === listItem;\n  }).rest();\n\n  if (!otherItems.isEmpty()) {\n    var newList = Block.create({\n      object: \"block\",\n      type: list.type\n    });\n    editor.withoutNormalizing(function () {\n      editor.insertNodeByKey(listItem.key, listItem.nodes.size, newList);\n      editor.moveNodeByKey(listItem.key, parentList.key, index + 1);\n      otherItems.forEach(function (item, index) {\n        return editor.moveNodeByKey(item.key, newList.key, newList.nodes.size + index);\n      });\n    });\n  } else {\n    editor.moveNodeByKey(listItem.key, parentList.key, index + 1);\n  }\n});\n\nvar increaseListItemDepth = (function (_ref, editor) {\n  var blocks = _ref.blocks;\n  var _editor$value = editor.value,\n      document = _editor$value.document,\n      startBlock = _editor$value.startBlock;\n  var listItem = document.getParent(startBlock.key);\n  var previousListItem = document.getPreviousSibling(listItem.key);\n  var list = document.getParent(listItem.key);\n  if (!listItem) return;\n  if (!previousListItem) return; // Because of our schema constraints, we know that the second item must be a\n  // list if it exists.\n\n  var existingList = previousListItem.nodes.get(1);\n\n  if (existingList) {\n    editor.withoutNormalizing(function () {\n      editor.moveNodeByKey(listItem.key, existingList.key, existingList.nodes.size);\n    });\n  } else {\n    var newList = Block.create({\n      object: \"block\",\n      type: list.type\n    });\n    editor.withoutNormalizing(function () {\n      editor.insertNodeByKey(previousListItem.key, previousListItem.nodes.size, newList);\n      editor.moveNodeByKey(listItem.key, newList.key, 0);\n    });\n  }\n});\n\nvar wrapWithOptions = function wrapWithOptions(fn, options) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fn.apply(void 0, [options].concat(args));\n  };\n};\n\nvar createCommands = (function (options) {\n  return {\n    wrapList: wrapWithOptions(wrapList, options),\n    unwrapList: wrapWithOptions(unwrapList, options),\n    toggleList: wrapWithOptions(toggleList, options),\n    unwrapListByKey: wrapWithOptions(unwrapListByKey, options),\n    decreaseListItemDepth: wrapWithOptions(decreaseListItemDepth, options),\n    increaseListItemDepth: wrapWithOptions(increaseListItemDepth, options)\n  };\n});\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar arrayWithHoles = _arrayWithHoles;\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nvar iterableToArrayLimit = _iterableToArrayLimit;\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar arrayLikeToArray = _arrayLikeToArray;\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nvar unsupportedIterableToArray = _unsupportedIterableToArray;\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar nonIterableRest = _nonIterableRest;\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nvar slicedToArray = _slicedToArray;\n\nvar sameType = function sameType(node, other) {\n  return node.type == other.type;\n};\n\nvar createNormalizeNode = (function (_ref) {\n  var blocks = _ref.blocks;\n\n  var isList = function isList(block) {\n    return block && (block.type == blocks.unordered_list || block.type == blocks.ordered_list);\n  };\n\n  return function (node, editor, next) {\n    if (node.object !== \"document\" && node.object !== \"block\") return next();\n    var mergable = node.nodes.map(function (child, index) {\n      if (!isList(child)) {\n        return null;\n      }\n\n      var adjacent = node.nodes.get(index + 1);\n\n      if (!adjacent || !isList(adjacent) || !sameType(child, adjacent)) {\n        return null;\n      }\n\n      return [child, adjacent];\n    }).filter(function (node) {\n      return node;\n    });\n    if (mergable.isEmpty()) return next();\n    return function (editor) {\n      mergable.reverse().forEach(function (_ref2) {\n        var _ref3 = slicedToArray(_ref2, 2),\n            list = _ref3[0],\n            adjacent = _ref3[1];\n\n        var updatedAdjacent = editor.value.document.getDescendant(adjacent.key);\n        updatedAdjacent.nodes.forEach(function (child, index) {\n          editor.withoutNormalizing(function () {\n            editor.moveNodeByKey(child.key, list.key, list.nodes.size + index);\n          });\n        });\n        editor.withoutNormalizing(function () {\n          editor.removeNodeByKey(adjacent.key);\n        });\n      });\n    };\n  };\n});\n\nfunction createCommonjsModule$1(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar _extends_1 = createCommonjsModule$1(function (module) {\nfunction _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\n});\n\nvar createRenderBlock = (function (_ref) {\n  var blocks = _ref.blocks,\n      classNames = _ref.classNames;\n  return function (props, editor, next) {\n    var node = props.node;\n\n    switch (node.type) {\n      case blocks.unordered_list:\n        return /*#__PURE__*/React.createElement(\"ul\", _extends_1({\n          className: classNames.unordered_list\n        }, props.attributes, {\n          style: {\n            listStylePosition: \"inside\"\n          }\n        }), props.children);\n\n      case blocks.ordered_list:\n        {\n          return /*#__PURE__*/React.createElement(\"ol\", _extends_1({\n            className: classNames.ordered_list\n          }, props.attributes, {\n            style: {\n              listStylePosition: \"inside\"\n            }\n          }), props.children);\n        }\n\n      case blocks.list_item:\n        {\n          return /*#__PURE__*/React.createElement(\"li\", _extends_1({\n            className: classNames.list_item\n          }, props.attributes), props.children);\n        }\n\n      case blocks.list_item_child:\n        {\n          return /*#__PURE__*/React.createElement(\"span\", _extends_1({\n            className: classNames.list_item_child\n          }, props.attributes), props.children);\n        }\n\n      default:\n        return next();\n    }\n  };\n});\n\nvar createSchema = (function (_ref) {\n  var _blocks;\n\n  var blocks = _ref.blocks;\n  return {\n    blocks: (_blocks = {}, defineProperty(_blocks, blocks.unordered_list, {\n      nodes: [{\n        match: {\n          type: blocks.list_item\n        }\n      }]\n    }), defineProperty(_blocks, blocks.ordered_list, {\n      nodes: [{\n        match: {\n          type: blocks.list_item\n        }\n      }]\n    }), defineProperty(_blocks, blocks.list_item, {\n      parent: [{\n        type: blocks.unordered_list\n      }, {\n        type: blocks.ordered_list\n      }],\n      nodes: [{\n        match: {\n          type: blocks.list_item_child\n        },\n        min: 1,\n        max: 1\n      }, {\n        match: [{\n          type: blocks.unordered_list\n        }, {\n          type: blocks.ordered_list\n        }],\n        min: 0,\n        max: 1\n      }],\n      normalize: function normalize(editor, error) {\n        switch (error.code) {\n          case \"child_min_invalid\":\n            editor.insertNodeByKey(error.node.key, 0, Block.create({\n              type: blocks.list_item_child,\n              nodes: [Text.create()]\n            }));\n            return;\n\n          case \"child_type_invalid\":\n            editor.wrapBlockByKey(error.child.key, {\n              type: blocks.list_item_child\n            });\n            return;\n\n          case \"parent_type_invalid\":\n            editor.wrapBlockByKey(error.node.key, blocks.unordered_list);\n            return;\n\n          default:\n            return;\n        }\n      }\n    }), _blocks)\n  };\n});\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar index = (function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var config = _objectSpread$1({}, options);\n\n  var blocks = _objectSpread$1({\n    unordered_list: \"unordered-list\",\n    ordered_list: \"ordered-list\",\n    list_item: \"list-item\",\n    list_item_child: \"list-item-child\",\n    \"default\": \"paragraph\"\n  }, config.blocks);\n\n  var classNames = _objectSpread$1({\n    unordered_list: \"unordered-list\",\n    ordered_list: \"ordered-list\",\n    list_item: \"list-item\",\n    list_item_child: \"list-item-child\"\n  }, config.classNames);\n\n  var commands = createCommands({\n    blocks: blocks\n  });\n\n  var isListItem = function isListItem(block) {\n    return block && block.type == blocks.list_item;\n  };\n\n  var getListItem = function getListItem(editor, block) {\n    var possibleListItem = editor.value.document.getParent(block.key);\n    return isListItem(possibleListItem) ? possibleListItem : null;\n  };\n\n  var isList = function isList(block) {\n    return block && (block.type == blocks.unordered_list || block.type == blocks.ordered_list);\n  };\n\n  var getList = function getList(editor, block) {\n    var possibleList = editor.value.document.getParent(block.key);\n    return isList(possibleList) ? possibleList : null;\n  };\n\n  var onBackspace = function onBackspace(event, editor, next) {\n    var selection = editor.value.selection;\n    if (selection.isExpanded) return next();\n    if (selection.start.offset !== 0) return next();\n    var listItem = getListItem(editor, editor.value.startBlock);\n    var list = getList(editor, listItem);\n    var parentListItem = getListItem(editor, list);\n\n    if (parentListItem) {\n      editor.decreaseListItemDepth();\n      return;\n    }\n\n    editor.unwrapList();\n  };\n\n  var onEnter = function onEnter(event, editor, next) {\n    var _editor$value = editor.value,\n        selection = _editor$value.selection,\n        startBlock = _editor$value.startBlock;\n    event.preventDefault();\n    if (selection.isExpanded) editor[\"delete\"]();\n\n    if (selection.start.offset === 0 && startBlock.getText() === \"\") {\n      var _listItem = getListItem(editor, editor.value.startBlock);\n\n      var list = getList(editor, _listItem);\n      var parentListItem = getListItem(editor, list);\n\n      if (parentListItem) {\n        editor.decreaseListItemDepth();\n        return;\n      }\n\n      editor.unwrapList();\n      return;\n    }\n\n    var listItem = getListItem(editor, editor.value.startBlock);\n    editor.splitDescendantsByKey(listItem.key, selection.start.key, selection.start.offset);\n  };\n\n  var onShiftEnter = function onShiftEnter(event, editor, next) {\n    event.preventDefault();\n    editor.insertText(\"\\n\");\n  };\n\n  var schema = createSchema({\n    blocks: blocks\n  });\n  var normalizeNode = createNormalizeNode({\n    blocks: blocks\n  });\n  var renderBlock = createRenderBlock({\n    blocks: blocks,\n    classNames: classNames\n  });\n  return [{\n    commands: {\n      wrapList: commands.wrapList,\n      unwrapList: commands.unwrapList,\n      toggleList: commands.toggleList,\n      decreaseListItemDepth: commands.decreaseListItemDepth,\n      increaseListItemDepth: commands.increaseListItemDepth\n    },\n    normalizeNode: normalizeNode,\n    renderBlock: renderBlock,\n    renderNode: renderBlock,\n    // COMPAT: renderNode is removed in slate\n    schema: schema\n  }, Keymap({\n    backspace: onBackspace,\n    enter: onEnter,\n    \"shift+enter\": onShiftEnter,\n    tab: \"increaseListItemDepth\",\n    \"shift+tab\": \"decreaseListItemDepth\"\n  }, {\n    \"if\": function _if(editor) {\n      return !!getListItem(editor, editor.value.startBlock);\n    }\n  })];\n});\n\nexport default index;\n"]},"metadata":{},"sourceType":"module"}