{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/AudioPlayer/AudioPlayer.js\";\nimport React, { useState, useRef } from 'react';\n\nconst AudioPlayer = () => {\n  const [selectedTrack, setSelectedTrack] = useState({\n    \"title\": \"False Nine Podcast #17 Champions League RO16 first leg review\",\n    \"by\": \"Ishan Sharma, Susajjan Dhungana and Ojash Dangal\",\n    \"link\": \"https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a\",\n    \"duration\": \"35143625\",\n    \"date\": \"Sat, 12 Sep 2020 08:42:34 GMT\"\n  });\n  const [player, setPlayer] = useState(\"stopped\");\n  const audioRef = useRef();\n  const prevTrackRef = useRef();\n  const prevPlayerRef = useRef();\n  useEffect(() => {\n    prevTrackRef.current = selectedTrack;\n  }, [selectedTrack]);\n  useEffect(() => {\n    prevPlayerRef.current = player;\n  }, [player]);\n  useEffect(() => {\n    if (selectedTrack !== prevTrackRef.current) {\n      let track = selectedTrack.link;\n\n      if (track) {\n        audioRef.current.src = track;\n        audioRef.current.play();\n        setPlayer(\"playing\");\n      }\n    }\n  }, [selectedTrack]);\n  useEffect(() => {\n    if (player !== prevPlayerRef.current) {\n      if (player === \"paused\") {\n        audioRef.current.player.pause();\n      } else if (this.state.player === \"stopped\") {\n        audioRef.current.pause();\n        audioRef.current.currentTime = 0;\n        setSelectedTrack(null);\n      } else if (player === \"playing\" && prevPlayerRef === \"paused\") {\n        audioRef.current.play();\n      }\n    }\n  }, [selectedTrack]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }\n  }, player === \"paused\" && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setPlayer(\"playing\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Play\"), player === \"playing\" && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setPlayer(\"paused\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Pause\"), player === \"playing\" || player === \"paused\" ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setPlayer(\"stopped\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Stop\") : \"\"), /*#__PURE__*/React.createElement(\"audio\", {\n    ref: audioRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }));\n};","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/AudioPlayer/AudioPlayer.js"],"names":["React","useState","useRef","AudioPlayer","selectedTrack","setSelectedTrack","player","setPlayer","audioRef","prevTrackRef","prevPlayerRef","useEffect","current","track","link","src","play","pause","state","currentTime"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,MAAzB,QAAsC,OAAtC;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACtB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCJ,QAAQ,CAAC;AAAC,aAAQ,+DAAT;AAAyE,UAAK,kDAA9E;AAAiI,YAAO,8KAAxI;AAAuT,gBAAW,UAAlU;AAA6U,YAAO;AAApV,GAAD,CAAlD;AACA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,SAAD,CAApC;AACA,QAAMO,QAAQ,GAAGN,MAAM,EAAvB;AACA,QAAMO,YAAY,GAAGP,MAAM,EAA3B;AACA,QAAMQ,aAAa,GAAGR,MAAM,EAA5B;AACAS,EAAAA,SAAS,CAAC,MAAM;AACZF,IAAAA,YAAY,CAACG,OAAb,GAAuBR,aAAvB;AACH,GAFQ,EAEP,CAACA,aAAD,CAFO,CAAT;AAIAO,EAAAA,SAAS,CAAC,MAAM;AACZD,IAAAA,aAAa,CAACE,OAAd,GAAwBN,MAAxB;AACH,GAFQ,EAEN,CAACA,MAAD,CAFM,CAAT;AAMAK,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGP,aAAa,KAAKK,YAAY,CAACG,OAAlC,EAA0C;AACtC,UAAIC,KAAK,GAAGT,aAAa,CAACU,IAA1B;;AAEA,UAAGD,KAAH,EAAS;AACLL,QAAAA,QAAQ,CAACI,OAAT,CAAiBG,GAAjB,GAAuBF,KAAvB;AACAL,QAAAA,QAAQ,CAACI,OAAT,CAAiBI,IAAjB;AACAT,QAAAA,SAAS,CAAC,SAAD,CAAT;AACH;AAGJ;AACJ,GAZQ,EAYN,CAACH,aAAD,CAZM,CAAT;AAcAO,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGL,MAAM,KAAKI,aAAa,CAACE,OAA5B,EAAoC;AAChC,UAAIN,MAAM,KAAK,QAAf,EAAyB;AACrBE,QAAAA,QAAQ,CAACI,OAAT,CAAiBN,MAAjB,CAAwBW,KAAxB;AACD,OAFH,MAES,IAAI,KAAKC,KAAL,CAAWZ,MAAX,KAAsB,SAA1B,EAAqC;AAC1CE,QAAAA,QAAQ,CAACI,OAAT,CAAiBK,KAAjB;AACAT,QAAAA,QAAQ,CAACI,OAAT,CAAiBO,WAAjB,GAA+B,CAA/B;AACAd,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,OAJM,MAIA,IACLC,MAAM,KAAK,SAAX,IACAI,aAAa,KAAK,QAFb,EAGL;AACAF,QAAAA,QAAQ,CAACI,OAAT,CAAiBI,IAAjB;AACD;AAGN;AACJ,GAjBQ,EAiBN,CAACZ,aAAD,CAjBM,CAAT;AAsBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACFE,MAAM,KAAK,QAAX,iBACC;AAAQ,IAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,SAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFC,EAMFD,MAAM,KAAK,SAAX,iBACC;AAAQ,IAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,QAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPC,EAWFD,MAAM,KAAK,SAAX,IAAwBA,MAAM,KAAK,QAAnC,gBACC;AAAQ,IAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,SAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAKG,EAhBD,CADL,eAsBA;AAAO,IAAA,GAAG,EAAEC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBA,CADJ;AA2BH,CA/ED","sourcesContent":["import React, {useState, useRef} from 'react'\n\nconst AudioPlayer = () => {\n    const [selectedTrack, setSelectedTrack] = useState({\"title\":\"False Nine Podcast #17 Champions League RO16 first leg review\",\"by\":\"Ishan Sharma, Susajjan Dhungana and Ojash Dangal\",\"link\":\"https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a\",\"duration\":\"35143625\",\"date\":\"Sat, 12 Sep 2020 08:42:34 GMT\"});\n    const [player, setPlayer] = useState(\"stopped\")\n    const audioRef = useRef();\n    const prevTrackRef = useRef();\n    const prevPlayerRef = useRef();\n    useEffect(() => {\n        prevTrackRef.current = selectedTrack\n    },[selectedTrack]);\n\n    useEffect(() => {\n        prevPlayerRef.current = player;\n    }, [player])\n\n\n\n    useEffect(() => {\n        if(selectedTrack !== prevTrackRef.current){\n            let track = selectedTrack.link;\n\n            if(track){\n                audioRef.current.src = track;\n                audioRef.current.play();\n                setPlayer(\"playing\")\n            }\n\n            \n        }\n    }, [selectedTrack])\n\n    useEffect(() => {\n        if(player !== prevPlayerRef.current){\n            if (player === \"paused\") {\n                audioRef.current.player.pause();\n              } else if (this.state.player === \"stopped\") {\n                audioRef.current.pause();\n                audioRef.current.currentTime = 0;\n                setSelectedTrack(null );\n              } else if (\n                player === \"playing\" &&\n                prevPlayerRef === \"paused\"\n              ) {\n                audioRef.current.play();\n              }\n\n            \n        }\n    }, [selectedTrack])\n\n    \n\n\n    return(\n        <div>\n             <div>\n          {player === \"paused\" && (\n            <button onClick={() => setPlayer(\"playing\")}>\n              Play\n            </button>\n          )}\n          {player === \"playing\" && (\n            <button onClick={() => setPlayer(\"paused\" )}>\n              Pause\n            </button>\n          )}\n          {player === \"playing\" || player === \"paused\" ? (\n            <button onClick={() => setPlayer(\"stopped\")}>\n              Stop\n            </button>\n          ) : (\n              \"\"\n            )}\n        </div>\n\n\n        <audio ref={audioRef}/>\n{/*https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a  */}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}