{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/TextEditor/TextEditor.js\";\nimport React, { useCallback, useMemo, useState, forwardRef, Ref, PropsWithChildren } from \"react\";\nimport isHotkey from \"is-hotkey\";\nimport { Editable, withReact, useSlate, Slate } from \"slate-react\";\nimport { Editor, Transforms, createEditor, Node } from \"slate\";\nimport { withHistory } from \"slate-history\";\nimport isUrl from \"is-url\";\nimport styles from './TextEditor.module.css';\nimport imageExtensions from \"image-extensions\";\nimport { cx, css } from 'emotion';\nconst HOTKEYS = {\n  \"mod+b\": \"bold\",\n  \"mod+i\": \"italic\",\n  \"mod+u\": \"underline\",\n  \"mod+`\": \"code\"\n};\nconst LIST_TYPES = [\"numbered-list\", \"bulleted-list\"];\n\nconst TextEditor = props => {\n  const [value, setValue] = useState(props.initialValue ? props.initialValue : initialValue);\n  const renderElement = useCallback(props => /*#__PURE__*/React.createElement(Element, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 48\n    }\n  })), []);\n  const renderLeaf = useCallback(props => /*#__PURE__*/React.createElement(Leaf, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 45\n    }\n  })), []);\n  const editor = useMemo(() => withImages(withHistory(withReact(createEditor()))), []);\n  return /*#__PURE__*/React.createElement(Slate, {\n    editor: editor,\n    value: value,\n    onChange: value => setValue(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: ({\n      width: '100%'\n    }, {\n      display: 'flex'\n    }, {\n      flexDirection: 'column'\n    }, {\n      alignItems: 'center'\n    }, {\n      maxWidth: '65vw'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MarkButton, {\n    format: \"bold\",\n    icon: \"format_bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MarkButton, {\n    format: \"italic\",\n    icon: \"format_italic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MarkButton, {\n    format: \"underline\",\n    icon: \"format_underlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MarkButton, {\n    format: \"code\",\n    icon: \"code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlockButton, {\n    format: \"heading-one\",\n    icon: \"looks_one\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlockButton, {\n    format: \"heading-two\",\n    icon: \"looks_two\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlockButton, {\n    format: \"block-quote\",\n    icon: \"format_quote\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlockButton, {\n    format: \"numbered-list\",\n    icon: \"format_list_numbered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlockButton, {\n    format: \"bulleted-list\",\n    icon: \"format_list_bulleted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlockButton, {\n    format: \"image\",\n    icon: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SaveButton, {\n    format: \"save\",\n    icon: \"save\",\n    onSave: props.onSave,\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Editable, {\n    renderElement: renderElement,\n    renderLeaf: renderLeaf,\n    placeholder: \"Enter some rich text\\u2026\",\n    spellCheck: true,\n    autoFocus: true,\n    onKeyDown: event => {\n      for (const hotkey in HOTKEYS) {\n        if (isHotkey(hotkey, event)) {\n          event.preventDefault();\n          const mark = HOTKEYS[hotkey];\n          toggleMark(editor, mark);\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  })));\n};\n\nconst withImages = editor => {\n  const {\n    insertData,\n    isVoid\n  } = editor;\n\n  editor.isVoid = element => {\n    return element.type === 'image' ? true : isVoid(element);\n  };\n\n  editor.insertData = data => {\n    const text = data.getData('text/plain');\n    const {\n      files\n    } = data;\n\n    if (files && files.length > 0) {\n      for (const file of files) {\n        const reader = new FileReader();\n        const [mime] = file.type.split('/');\n\n        if (mime === 'image') {\n          reader.addEventListener('load', () => {\n            const url = reader.result;\n            insertImage(editor, url);\n          });\n          reader.readAsDataURL(file);\n        }\n      }\n    } else if (isImageUrl(text)) {\n      insertImage(editor, text);\n    } else {\n      insertData(data);\n    }\n  };\n\n  return editor;\n};\n\nconst toggleBlock = (editor, format) => {\n  const isActive = isBlockActive(editor, format);\n  const isList = LIST_TYPES.includes(format);\n  const isImage = format === \"image\";\n  Transforms.unwrapNodes(editor, {\n    match: n => LIST_TYPES.includes(n.type),\n    split: true\n  });\n  Transforms.setNodes(editor, {\n    type: isActive ? \"paragraph\" : isList ? \"list-item\" : !isImage ? format : \"\"\n  });\n\n  if (!isActive && isList) {\n    const block = {\n      type: format,\n      children: []\n    };\n    Transforms.wrapNodes(editor, block);\n  }\n};\n\nconst toggleMark = (editor, format) => {\n  const isActive = isMarkActive(editor, format);\n\n  if (isActive) {\n    Editor.removeMark(editor, format);\n  } else {\n    Editor.addMark(editor, format, true);\n  }\n};\n\nconst isBlockActive = (editor, format) => {\n  const [match] = Editor.nodes(editor, {\n    match: n => n.type === format\n  });\n  return !!match;\n};\n\nconst isMarkActive = (editor, format) => {\n  const marks = Editor.marks(editor);\n  return marks ? marks[format] === true : false;\n};\n\nconst Element = ({\n  attributes,\n  children,\n  element\n}) => {\n  switch (element.type) {\n    case \"block-quote\":\n      return /*#__PURE__*/React.createElement(\"blockquote\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 14\n        }\n      }), children);\n\n    case \"bulleted-list\":\n      return /*#__PURE__*/React.createElement(\"ul\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 14\n        }\n      }), children);\n\n    case \"heading-one\":\n      return /*#__PURE__*/React.createElement(\"h1\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 14\n        }\n      }), children);\n\n    case \"heading-two\":\n      return /*#__PURE__*/React.createElement(\"h2\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 14\n        }\n      }), children);\n\n    case \"list-item\":\n      return /*#__PURE__*/React.createElement(\"li\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 14\n        }\n      }), children);\n\n    case \"numbered-list\":\n      return /*#__PURE__*/React.createElement(\"ol\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 14\n        }\n      }), children);\n\n    case \"image\":\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        contentEditable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: element.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }\n      })), children);\n\n    default:\n      return /*#__PURE__*/React.createElement(\"p\", Object.assign({}, attributes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 14\n        }\n      }), children);\n  }\n};\n\nconst Leaf = ({\n  attributes,\n  children,\n  leaf\n}) => {\n  if (leaf.bold) {\n    children = /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  if (leaf.code) {\n    children = /*#__PURE__*/React.createElement(\"code\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  if (leaf.italic) {\n    children = /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  if (leaf.underline) {\n    children = /*#__PURE__*/React.createElement(\"u\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({}, attributes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 10\n    }\n  }), children);\n};\n\nconst BlockButton = ({\n  format,\n  icon\n}) => {\n  const editor = useSlate();\n\n  if (format === \"image\") {\n    return /*#__PURE__*/React.createElement(Button, {\n      active: isBlockActive(editor, format),\n      onMouseDown: event => {\n        event.preventDefault();\n        const url = window.prompt('Enter the URL of the image:');\n        if (!url) return;\n        toggleBlock(editor, format);\n        insertImage(editor, url);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 7\n      }\n    }, icon));\n  } else {\n    return /*#__PURE__*/React.createElement(Button, {\n      active: isBlockActive(editor, format),\n      onMouseDown: event => {\n        event.preventDefault();\n        toggleBlock(editor, format);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }\n    }, icon));\n  }\n};\n\nconst SaveButton = ({\n  format,\n  icon,\n  onSave,\n  value\n}) => {\n  const editor = useSlate();\n  return /*#__PURE__*/React.createElement(Button, {\n    active: isMarkActive(editor, format),\n    onMouseDown: event => {\n      event.preventDefault();\n      toggleMark(editor, format);\n      onSave(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, icon));\n};\n\nconst MarkButton = ({\n  format,\n  icon\n}) => {\n  const editor = useSlate();\n  return /*#__PURE__*/React.createElement(Button, {\n    active: isMarkActive(editor, format),\n    onMouseDown: event => {\n      event.preventDefault();\n      toggleMark(editor, format);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, icon));\n};\n\nconst insertImage = (editor, url) => {\n  const text = {\n    text: \"\"\n  };\n  const image = {\n    type: \"image\",\n    url,\n    children: [text]\n  };\n  Transforms.insertNodes(editor, image);\n};\n\nconst isImageUrl = url => {\n  if (!url) return false;\n  if (!isUrl(url)) return false;\n  const ext = new URL(url).pathname.split(\".\").pop();\n  return imageExtensions.includes(ext);\n};\n\nconst initialValue = [{\n  type: \"paragraph\",\n  children: [{\n    text: \"This is editable \"\n  }]\n}];\nconst Button = React.forwardRef(({\n  className,\n  active,\n  reversed,\n  ...props\n}, ref) => /*#__PURE__*/React.createElement(\"span\", Object.assign({}, props, {\n  ref: ref,\n  className: cx(className, css`\n            cursor: pointer;\n            color: ${reversed ? active ? 'white' : '#aaa' : active ? 'black' : '#ccc'};\n          `),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 7\n  }\n})));\nconst Icon = React.forwardRef(({\n  className,\n  ...props\n}, ref) => /*#__PURE__*/React.createElement(\"span\", Object.assign({}, props, {\n  ref: ref,\n  className: cx('material-icons', className, css`\n            font-size: 18px;\n            vertical-align: text-bottom;\n          `),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 7\n  }\n})));\nconst Toolbar = React.forwardRef(({\n  className,\n  ...props\n}, ref) => /*#__PURE__*/React.createElement(Menu, Object.assign({}, props, {\n  ref: ref,\n  className: cx(className, css`\n            display: flex;\n            width: 100%;\n            flex-direction: row;\n            align-items: start;\n            padding: 1px 18px 17px;\n            margin: 0 -20px;\n            border-bottom: 2px solid #eee;\n            margin-bottom: 20px;`),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 7\n  }\n})));\nconst Menu = React.forwardRef(({\n  className,\n  ...props\n}, ref) => /*#__PURE__*/React.createElement(\"div\", Object.assign({}, props, {\n  ref: ref,\n  className: cx(className, css`\n            & > * {\n              display: inline-block;\n             \n            }\n            & > * + * {\n              margin-left: 15px;\n            }\n          `),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 7\n  }\n})));\nexport default TextEditor;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/TextEditor/TextEditor.js"],"names":["React","useCallback","useMemo","useState","forwardRef","Ref","PropsWithChildren","isHotkey","Editable","withReact","useSlate","Slate","Editor","Transforms","createEditor","Node","withHistory","isUrl","styles","imageExtensions","cx","css","HOTKEYS","LIST_TYPES","TextEditor","props","value","setValue","initialValue","renderElement","renderLeaf","editor","withImages","width","display","flexDirection","alignItems","maxWidth","onSave","event","hotkey","preventDefault","mark","toggleMark","insertData","isVoid","element","type","data","text","getData","files","length","file","reader","FileReader","mime","split","addEventListener","url","result","insertImage","readAsDataURL","isImageUrl","toggleBlock","format","isActive","isBlockActive","isList","includes","isImage","unwrapNodes","match","n","setNodes","block","children","wrapNodes","isMarkActive","removeMark","addMark","nodes","marks","Element","attributes","Leaf","leaf","bold","code","italic","underline","BlockButton","icon","window","prompt","SaveButton","MarkButton","image","insertNodes","ext","URL","pathname","pop","Button","className","active","reversed","ref","Icon","Toolbar","Menu"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,EAAsCC,QAAtC,EAAgDC,UAAhD,EAA4DC,GAA5D,EAAiEC,iBAAjE,QAA0F,OAA1F;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,QAA9B,EAAwCC,KAAxC,QAAqD,aAArD;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,YAA7B,EAA2CC,IAA3C,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAOC,KAAP,MAAkB,QAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,eAAP,MAA4B,kBAA5B;AACA,SAASC,EAAT,EAAaC,GAAb,QAAwB,SAAxB;AAEA,MAAMC,OAAO,GAAG;AACd,WAAS,MADK;AAEd,WAAS,QAFK;AAGd,WAAS,WAHK;AAId,WAAS;AAJK,CAAhB;AAOA,MAAMC,UAAU,GAAG,CAAC,eAAD,EAAkB,eAAlB,CAAnB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBxB,QAAQ,CAACsB,KAAK,CAACG,YAAN,GAAoBH,KAAK,CAACG,YAA1B,GAAyCA,YAA1C,CAAlC;AACA,QAAMC,aAAa,GAAG5B,WAAW,CAAEwB,KAAD,iBAAW,oBAAC,OAAD,oBAAaA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ,EAAoC,EAApC,CAAjC;AACA,QAAMK,UAAU,GAAG7B,WAAW,CAAEwB,KAAD,iBAAW,oBAAC,IAAD,oBAAUA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ,EAAiC,EAAjC,CAA9B;AACA,QAAMM,MAAM,GAAG7B,OAAO,CAAC,MAAM8B,UAAU,CAAChB,WAAW,CAACP,SAAS,CAACK,YAAY,EAAb,CAAV,CAAZ,CAAjB,EAA2D,EAA3D,CAAtB;AAEA,sBAEE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEiB,MAAf;AAAuB,IAAA,KAAK,EAAEL,KAA9B;AAAqC,IAAA,QAAQ,EAAGA,KAAD,IAAWC,QAAQ,CAACD,KAAD,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,GAAE;AAACO,MAAAA,KAAK,EAAE;AAAR,OAAiB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAjB,EAAmC;AAACC,MAAAA,aAAa,EAAE;AAAhB,KAAnC,EAA6D;AAACC,MAAAA,UAAU,EAAE;AAAb,KAA7D,EAAoF;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAtF,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAC,MAAnB;AAA0B,IAAA,IAAI,EAAC,aAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEE,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAC,QAAnB;AAA4B,IAAA,IAAI,EAAC,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAC,WAAnB;AAA+B,IAAA,IAAI,EAAC,mBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAC,MAAnB;AAA0B,IAAA,IAAI,EAAC,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAC,aAApB;AAAkC,IAAA,IAAI,EAAC,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAC,aAApB;AAAkC,IAAA,IAAI,EAAC,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAOE,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAC,aAApB;AAAkC,IAAA,IAAI,EAAC,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAQE,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAC,eAApB;AAAoC,IAAA,IAAI,EAAC,sBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eASE,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAC,eAApB;AAAoC,IAAA,IAAI,EAAC,sBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAUE,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAC,OAApB;AAA4B,IAAA,IAAI,EAAC,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAWE,oBAAC,UAAD;AAAa,IAAA,MAAM,EAAC,MAApB;AAA2B,IAAA,IAAI,EAAC,MAAhC;AAAuC,IAAA,MAAM,EAAEZ,KAAK,CAACa,MAArD;AAA6D,IAAA,KAAK,EAAEZ,KAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADA,eAeA,oBAAC,QAAD;AACE,IAAA,aAAa,EAAEG,aADjB;AAEE,IAAA,UAAU,EAAEC,UAFd;AAGE,IAAA,WAAW,EAAC,4BAHd;AAIE,IAAA,UAAU,MAJZ;AAKE,IAAA,SAAS,MALX;AAME,IAAA,SAAS,EAAGS,KAAD,IAAW;AACpB,WAAK,MAAMC,MAAX,IAAqBlB,OAArB,EAA8B;AAC5B,YAAIf,QAAQ,CAACiC,MAAD,EAASD,KAAT,CAAZ,EAA6B;AAC3BA,UAAAA,KAAK,CAACE,cAAN;AACA,gBAAMC,IAAI,GAAGpB,OAAO,CAACkB,MAAD,CAApB;AACAG,UAAAA,UAAU,CAACZ,MAAD,EAASW,IAAT,CAAV;AACD;AACF;AACF,KAdH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfA,CADF,CAFF;AAsCD,CA5CD;;AA+CA,MAAMV,UAAU,GAAGD,MAAM,IAAI;AACzB,QAAM;AAAEa,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAyBd,MAA/B;;AAEAA,EAAAA,MAAM,CAACc,MAAP,GAAgBC,OAAO,IAAI;AACzB,WAAOA,OAAO,CAACC,IAAR,KAAiB,OAAjB,GAA2B,IAA3B,GAAkCF,MAAM,CAACC,OAAD,CAA/C;AACD,GAFD;;AAIAf,EAAAA,MAAM,CAACa,UAAP,GAAoBI,IAAI,IAAI;AAC1B,UAAMC,IAAI,GAAGD,IAAI,CAACE,OAAL,CAAa,YAAb,CAAb;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAYH,IAAlB;;AAEA,QAAIG,KAAK,IAAIA,KAAK,CAACC,MAAN,GAAe,CAA5B,EAA+B;AAC7B,WAAK,MAAMC,IAAX,IAAmBF,KAAnB,EAA0B;AACxB,cAAMG,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACA,cAAM,CAACC,IAAD,IAASH,IAAI,CAACN,IAAL,CAAUU,KAAV,CAAgB,GAAhB,CAAf;;AAEA,YAAID,IAAI,KAAK,OAAb,EAAsB;AACpBF,UAAAA,MAAM,CAACI,gBAAP,CAAwB,MAAxB,EAAgC,MAAM;AACpC,kBAAMC,GAAG,GAAGL,MAAM,CAACM,MAAnB;AACAC,YAAAA,WAAW,CAAC9B,MAAD,EAAS4B,GAAT,CAAX;AACD,WAHD;AAKAL,UAAAA,MAAM,CAACQ,aAAP,CAAqBT,IAArB;AACD;AACF;AACF,KAdD,MAcO,IAAIU,UAAU,CAACd,IAAD,CAAd,EAAsB;AAC3BY,MAAAA,WAAW,CAAC9B,MAAD,EAASkB,IAAT,CAAX;AACD,KAFM,MAEA;AACLL,MAAAA,UAAU,CAACI,IAAD,CAAV;AACD;AACF,GAvBD;;AAyBA,SAAOjB,MAAP;AACD,CAjCH;;AAmCA,MAAMiC,WAAW,GAAG,CAACjC,MAAD,EAASkC,MAAT,KAAoB;AACtC,QAAMC,QAAQ,GAAGC,aAAa,CAACpC,MAAD,EAASkC,MAAT,CAA9B;AACA,QAAMG,MAAM,GAAG7C,UAAU,CAAC8C,QAAX,CAAoBJ,MAApB,CAAf;AACA,QAAMK,OAAO,GAAGL,MAAM,KAAK,OAA3B;AACApD,EAAAA,UAAU,CAAC0D,WAAX,CAAuBxC,MAAvB,EAA+B;AAC7ByC,IAAAA,KAAK,EAAGC,CAAD,IAAOlD,UAAU,CAAC8C,QAAX,CAAoBI,CAAC,CAAC1B,IAAtB,CADe;AAE7BU,IAAAA,KAAK,EAAE;AAFsB,GAA/B;AAKA5C,EAAAA,UAAU,CAAC6D,QAAX,CAAoB3C,MAApB,EAA4B;AAC1BgB,IAAAA,IAAI,EAAEmB,QAAQ,GAAG,WAAH,GAAiBE,MAAM,GAAG,WAAH,GAAiB,CAACE,OAAD,GAAUL,MAAV,GAAmB;AAD/C,GAA5B;;AAIA,MAAI,CAACC,QAAD,IAAaE,MAAjB,EAAyB;AACvB,UAAMO,KAAK,GAAG;AAAE5B,MAAAA,IAAI,EAAEkB,MAAR;AAAgBW,MAAAA,QAAQ,EAAE;AAA1B,KAAd;AACA/D,IAAAA,UAAU,CAACgE,SAAX,CAAqB9C,MAArB,EAA6B4C,KAA7B;AACD;AACF,CAjBD;;AAmBA,MAAMhC,UAAU,GAAG,CAACZ,MAAD,EAASkC,MAAT,KAAoB;AACrC,QAAMC,QAAQ,GAAGY,YAAY,CAAC/C,MAAD,EAASkC,MAAT,CAA7B;;AAEA,MAAIC,QAAJ,EAAc;AACZtD,IAAAA,MAAM,CAACmE,UAAP,CAAkBhD,MAAlB,EAA0BkC,MAA1B;AACD,GAFD,MAEO;AACLrD,IAAAA,MAAM,CAACoE,OAAP,CAAejD,MAAf,EAAuBkC,MAAvB,EAA+B,IAA/B;AACD;AACF,CARD;;AAUA,MAAME,aAAa,GAAG,CAACpC,MAAD,EAASkC,MAAT,KAAoB;AACxC,QAAM,CAACO,KAAD,IAAU5D,MAAM,CAACqE,KAAP,CAAalD,MAAb,EAAqB;AACnCyC,IAAAA,KAAK,EAAGC,CAAD,IAAOA,CAAC,CAAC1B,IAAF,KAAWkB;AADU,GAArB,CAAhB;AAIE,SAAO,CAAC,CAACO,KAAT;AAGH,CARD;;AAUA,MAAMM,YAAY,GAAG,CAAC/C,MAAD,EAASkC,MAAT,KAAoB;AACvC,QAAMiB,KAAK,GAAGtE,MAAM,CAACsE,KAAP,CAAanD,MAAb,CAAd;AACA,SAAOmD,KAAK,GAAGA,KAAK,CAACjB,MAAD,CAAL,KAAkB,IAArB,GAA4B,KAAxC;AACD,CAHD;;AAKA,MAAMkB,OAAO,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcR,EAAAA,QAAd;AAAwB9B,EAAAA;AAAxB,CAAD,KAAuC;AACrD,UAAQA,OAAO,CAACC,IAAhB;AACE,SAAK,aAAL;AACE,0BAAO,oDAAgBqC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA6BR,QAA7B,CAAP;;AACF,SAAK,eAAL;AACE,0BAAO,4CAAQQ,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqBR,QAArB,CAAP;;AACF,SAAK,aAAL;AACE,0BAAO,4CAAQQ,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqBR,QAArB,CAAP;;AACF,SAAK,aAAL;AACE,0BAAO,4CAAQQ,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqBR,QAArB,CAAP;;AACF,SAAK,WAAL;AACE,0BAAO,4CAAQQ,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqBR,QAArB,CAAP;;AACF,SAAK,eAAL;AACE,0BAAO,4CAAQQ,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqBR,QAArB,CAAP;;AACF,SAAK,OAAL;AACE,0BACE,6CAASQ,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACE;AAAK,QAAA,eAAe,EAAE,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAEtC,OAAO,CAACa,GADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAMGiB,QANH,CADF;;AAUF;AACE,0BAAO,2CAAOQ,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAoBR,QAApB,CAAP;AAzBJ;AA2BD,CA5BD;;AA8BA,MAAMS,IAAI,GAAG,CAAC;AAAED,EAAAA,UAAF;AAAcR,EAAAA,QAAd;AAAwBU,EAAAA;AAAxB,CAAD,KAAoC;AAC/C,MAAIA,IAAI,CAACC,IAAT,EAAe;AACbX,IAAAA,QAAQ,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASA,QAAT,CAAX;AACD;;AAED,MAAIU,IAAI,CAACE,IAAT,EAAe;AACbZ,IAAAA,QAAQ,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOA,QAAP,CAAX;AACD;;AAED,MAAIU,IAAI,CAACG,MAAT,EAAiB;AACfb,IAAAA,QAAQ,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,QAAL,CAAX;AACD;;AAED,MAAIU,IAAI,CAACI,SAAT,EAAoB;AAClBd,IAAAA,QAAQ,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,QAAJ,CAAX;AACD;;AAED,sBAAO,8CAAUQ,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAuBR,QAAvB,CAAP;AACD,CAlBD;;AAoBA,MAAMe,WAAW,GAAG,CAAC;AAAE1B,EAAAA,MAAF;AAAU2B,EAAAA;AAAV,CAAD,KAAsB;AACxC,QAAM7D,MAAM,GAAGrB,QAAQ,EAAvB;;AACA,MAAIuD,MAAM,KAAK,OAAf,EAAwB;AACtB,wBAAQ,oBAAC,MAAD;AACN,MAAA,MAAM,EAAEE,aAAa,CAACpC,MAAD,EAASkC,MAAT,CADf;AAEN,MAAA,WAAW,EAAG1B,KAAD,IAAW;AACtBA,QAAAA,KAAK,CAACE,cAAN;AACA,cAAMkB,GAAG,GAAGkC,MAAM,CAACC,MAAP,CAAc,6BAAd,CAAZ;AACA,YAAG,CAACnC,GAAJ,EAAS;AACTK,QAAAA,WAAW,CAACjC,MAAD,EAASkC,MAAT,CAAX;AACAJ,QAAAA,WAAW,CAAC9B,MAAD,EAAS4B,GAAT,CAAX;AACD,OARK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUN,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOiC,IAAP,CAVM,CAAR;AAYD,GAbD,MAaO;AACL,wBACE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAEzB,aAAa,CAACpC,MAAD,EAASkC,MAAT,CADvB;AAEE,MAAA,WAAW,EAAG1B,KAAD,IAAW;AACtBA,QAAAA,KAAK,CAACE,cAAN;AACAuB,QAAAA,WAAW,CAACjC,MAAD,EAASkC,MAAT,CAAX;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO2B,IAAP,CAPF,CADF;AAWD;AACF,CA5BD;;AA8BA,MAAMG,UAAU,GAAG,CAAC;AAAE9B,EAAAA,MAAF;AAAU2B,EAAAA,IAAV;AAAgBtD,EAAAA,MAAhB;AAAwBZ,EAAAA;AAAxB,CAAD,KAAoC;AACnD,QAAMK,MAAM,GAAGrB,QAAQ,EAAvB;AACA,sBACE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAEoE,YAAY,CAAC/C,MAAD,EAASkC,MAAT,CADtB;AAEE,IAAA,WAAW,EAAG1B,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACE,cAAN;AACAE,MAAAA,UAAU,CAACZ,MAAD,EAASkC,MAAT,CAAV;AACA3B,MAAAA,MAAM,CAACZ,KAAD,CAAN;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOkE,IAAP,CARJ,CADF;AAYD,CAdH;;AAiBA,MAAMI,UAAU,GAAG,CAAC;AAAE/B,EAAAA,MAAF;AAAU2B,EAAAA;AAAV,CAAD,KAAsB;AACvC,QAAM7D,MAAM,GAAGrB,QAAQ,EAAvB;AACA,sBACE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAEoE,YAAY,CAAC/C,MAAD,EAASkC,MAAT,CADtB;AAEE,IAAA,WAAW,EAAG1B,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACE,cAAN;AACAE,MAAAA,UAAU,CAACZ,MAAD,EAASkC,MAAT,CAAV;AAED,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO2B,IAAP,CARJ,CADF;AAYD,CAdD;;AAgBA,MAAM/B,WAAW,GAAG,CAAC9B,MAAD,EAAS4B,GAAT,KAAiB;AACnC,QAAMV,IAAI,GAAG;AAAEA,IAAAA,IAAI,EAAE;AAAR,GAAb;AACA,QAAMgD,KAAK,GAAG;AAAElD,IAAAA,IAAI,EAAE,OAAR;AAAiBY,IAAAA,GAAjB;AAAsBiB,IAAAA,QAAQ,EAAE,CAAC3B,IAAD;AAAhC,GAAd;AACApC,EAAAA,UAAU,CAACqF,WAAX,CAAuBnE,MAAvB,EAA+BkE,KAA/B;AACD,CAJD;;AAMA,MAAMlC,UAAU,GAAIJ,GAAD,IAAS;AAC1B,MAAI,CAACA,GAAL,EAAU,OAAO,KAAP;AACV,MAAI,CAAC1C,KAAK,CAAC0C,GAAD,CAAV,EAAiB,OAAO,KAAP;AACjB,QAAMwC,GAAG,GAAG,IAAIC,GAAJ,CAAQzC,GAAR,EAAa0C,QAAb,CAAsB5C,KAAtB,CAA4B,GAA5B,EAAiC6C,GAAjC,EAAZ;AACA,SAAOnF,eAAe,CAACkD,QAAhB,CAAyB8B,GAAzB,CAAP;AACD,CALD;;AAQA,MAAMvE,YAAY,GAAG,CACnB;AACEmB,EAAAA,IAAI,EAAE,WADR;AAEE6B,EAAAA,QAAQ,EAAE,CACR;AAAE3B,IAAAA,IAAI,EAAE;AAAR,GADQ;AAFZ,CADmB,CAArB;AASA,MAAMsD,MAAM,GAAGvG,KAAK,CAACI,UAAN,CACX,CACE;AACEoG,EAAAA,SADF;AAEEC,EAAAA,MAFF;AAGEC,EAAAA,QAHF;AAIE,KAAGjF;AAJL,CADF,EAOEkF,GAPF,kBAQE,8CACMlF,KADN;AAEE,EAAA,GAAG,EAAEkF,GAFP;AAGE,EAAA,SAAS,EAAEvF,EAAE,CACXoF,SADW,EAEXnF,GAAI;;qBAEOqF,QAAQ,GACbD,MAAM,GACJ,OADI,GAEJ,MAHW,GAIbA,MAAM,GACN,OADM,GAEN,MAAO;WAVF,CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GATS,CAAf;AA6BE,MAAMG,IAAI,GAAG5G,KAAK,CAACI,UAAN,CACX,CACE;AAAEoG,EAAAA,SAAF;AAAa,KAAG/E;AAAhB,CADF,EAEEkF,GAFF,kBAIE,8CACMlF,KADN;AAEE,EAAA,GAAG,EAAEkF,GAFP;AAGE,EAAA,SAAS,EAAEvF,EAAE,CACX,gBADW,EAEXoF,SAFW,EAGXnF,GAAI;;;WAHO,CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GALS,CAAb;AAoBA,MAAMwF,OAAO,GAAG7G,KAAK,CAACI,UAAN,CACd,CACE;AAAEoG,EAAAA,SAAF;AAAa,KAAG/E;AAAhB,CADF,EAEEkF,GAFF,kBAIE,oBAAC,IAAD,oBACMlF,KADN;AAEE,EAAA,GAAG,EAAEkF,GAFP;AAGE,EAAA,SAAS,EAAEvF,EAAE,CACXoF,SADW,EAEXnF,GAAI;;;;;;;;iCAFO,CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GALY,CAAhB;AAwBA,MAAMyF,IAAI,GAAG9G,KAAK,CAACI,UAAN,CACX,CACE;AAAEoG,EAAAA,SAAF;AAAa,KAAG/E;AAAhB,CADF,EAEEkF,GAFF,kBAIE,6CACMlF,KADN;AAEE,EAAA,GAAG,EAAEkF,GAFP;AAGE,EAAA,SAAS,EAAEvF,EAAE,CACXoF,SADW,EAEXnF,GAAI;;;;;;;;WAFO,CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GALS,CAAb;AAuBF,eAAeG,UAAf","sourcesContent":["import React, { useCallback, useMemo, useState, forwardRef, Ref, PropsWithChildren } from \"react\";\nimport isHotkey from \"is-hotkey\";\nimport { Editable, withReact, useSlate, Slate } from \"slate-react\";\nimport { Editor, Transforms, createEditor, Node } from \"slate\";\nimport { withHistory } from \"slate-history\";\nimport isUrl from \"is-url\";\nimport styles from './TextEditor.module.css'\nimport imageExtensions from \"image-extensions\";\nimport { cx, css } from 'emotion'\n\nconst HOTKEYS = {\n  \"mod+b\": \"bold\",\n  \"mod+i\": \"italic\",\n  \"mod+u\": \"underline\",\n  \"mod+`\": \"code\",\n};\n\nconst LIST_TYPES = [\"numbered-list\", \"bulleted-list\"];\n\nconst TextEditor = (props) => {\n  const [value, setValue] = useState(props.initialValue? props.initialValue : initialValue);\n  const renderElement = useCallback((props) => <Element {...props} />, []);\n  const renderLeaf = useCallback((props) => <Leaf {...props} />, []);\n  const editor = useMemo(() => withImages(withHistory(withReact(createEditor()))), []);\n\n  return (\n\n    <Slate editor={editor} value={value} onChange={(value) => setValue(value)}>\n      <div style={{width: '100%'}, {display: 'flex'},{flexDirection: 'column'},{alignItems: 'center'},{maxWidth: '65vw'}}>\n      <Toolbar>\n      <MarkButton format=\"bold\" icon=\"format_bold\" />\n        <MarkButton format=\"italic\" icon=\"format_italic\" />\n        <MarkButton format=\"underline\" icon=\"format_underlined\" />\n        <MarkButton format=\"code\" icon=\"code\" />\n        <BlockButton format=\"heading-one\" icon=\"looks_one\" />\n        <BlockButton format=\"heading-two\" icon=\"looks_two\" />\n        <BlockButton format=\"block-quote\" icon=\"format_quote\" />\n        <BlockButton format=\"numbered-list\" icon=\"format_list_numbered\" />\n        <BlockButton format=\"bulleted-list\" icon=\"format_list_bulleted\" />\n        <BlockButton format=\"image\" icon=\"image\"/>\n        <SaveButton  format=\"save\" icon=\"save\" onSave={props.onSave} value={value}/>\n      </Toolbar>\n\n      <Editable\n        renderElement={renderElement}\n        renderLeaf={renderLeaf}\n        placeholder=\"Enter some rich textâ€¦\"\n        spellCheck\n        autoFocus\n        onKeyDown={(event) => {\n          for (const hotkey in HOTKEYS) {\n            if (isHotkey(hotkey, event)) {\n              event.preventDefault();\n              const mark = HOTKEYS[hotkey];\n              toggleMark(editor, mark);\n            }\n          }\n        }}\n      />\n          \n      </div>\n    </Slate>\n  );\n};\n\n\nconst withImages = editor => {\n    const { insertData, isVoid } = editor\n  \n    editor.isVoid = element => {\n      return element.type === 'image' ? true : isVoid(element)\n    }\n  \n    editor.insertData = data => {\n      const text = data.getData('text/plain')\n      const { files } = data\n  \n      if (files && files.length > 0) {\n        for (const file of files) {\n          const reader = new FileReader()\n          const [mime] = file.type.split('/')\n  \n          if (mime === 'image') {\n            reader.addEventListener('load', () => {\n              const url = reader.result\n              insertImage(editor, url)\n            })\n  \n            reader.readAsDataURL(file)\n          }\n        }\n      } else if (isImageUrl(text)) {\n        insertImage(editor, text)\n      } else {\n        insertData(data)\n      }\n    }\n  \n    return editor\n  }\n\nconst toggleBlock = (editor, format) => {\n  const isActive = isBlockActive(editor, format);\n  const isList = LIST_TYPES.includes(format);\n  const isImage = format === \"image\";\n  Transforms.unwrapNodes(editor, {\n    match: (n) => LIST_TYPES.includes(n.type),\n    split: true,\n  });\n\n  Transforms.setNodes(editor, {\n    type: isActive ? \"paragraph\" : isList ? \"list-item\" : !isImage? format : \"\",\n  });\n\n  if (!isActive && isList) {\n    const block = { type: format, children: [] };\n    Transforms.wrapNodes(editor, block);\n  }\n};\n\nconst toggleMark = (editor, format) => {\n  const isActive = isMarkActive(editor, format);\n\n  if (isActive) {\n    Editor.removeMark(editor, format);\n  } else {\n    Editor.addMark(editor, format, true);\n  }\n};\n\nconst isBlockActive = (editor, format) => {\n  const [match] = Editor.nodes(editor, {\n    match: (n) => n.type === format,\n  });\n  \n    return !!match;\n  \n \n};\n\nconst isMarkActive = (editor, format) => {\n  const marks = Editor.marks(editor);\n  return marks ? marks[format] === true : false;\n};\n\nconst Element = ({ attributes, children, element }) => {\n  switch (element.type) {\n    case \"block-quote\":\n      return <blockquote {...attributes}>{children}</blockquote>;\n    case \"bulleted-list\":\n      return <ul {...attributes}>{children}</ul>;\n    case \"heading-one\":\n      return <h1 {...attributes}>{children}</h1>;\n    case \"heading-two\":\n      return <h2 {...attributes}>{children}</h2>;\n    case \"list-item\":\n      return <li {...attributes}>{children}</li>;\n    case \"numbered-list\":\n      return <ol {...attributes}>{children}</ol>;\n    case \"image\":\n      return (\n        <div {...attributes}>\n          <div contentEditable={false}>\n            <img\n              src={element.url}\n            />\n          </div>\n          {children}\n        </div>\n      );\n    default:\n      return <p {...attributes}>{children}</p>;\n  }\n};\n\nconst Leaf = ({ attributes, children, leaf }) => {\n  if (leaf.bold) {\n    children = <strong>{children}</strong>;\n  }\n\n  if (leaf.code) {\n    children = <code>{children}</code>;\n  }\n\n  if (leaf.italic) {\n    children = <em>{children}</em>;\n  }\n\n  if (leaf.underline) {\n    children = <u>{children}</u>;\n  }\n\n  return <span {...attributes}>{children}</span>;\n};\n\nconst BlockButton = ({ format, icon }) => {\n  const editor = useSlate();\n  if (format === \"image\") {\n    return (<Button\n      active={isBlockActive(editor, format)}\n      onMouseDown={(event) => {\n        event.preventDefault();\n        const url = window.prompt('Enter the URL of the image:')\n        if(!url) return \n        toggleBlock(editor, format);\n        insertImage(editor, url);\n      }}\n    >\n      <Icon>{icon}</Icon>\n    </Button>);\n  } else {\n    return (\n      <Button\n        active={isBlockActive(editor, format)}\n        onMouseDown={(event) => {\n          event.preventDefault();\n          toggleBlock(editor, format);\n        }}\n      >\n        <Icon>{icon}</Icon>\n      </Button>\n    );\n  }\n};\n\nconst SaveButton = ({ format, icon, onSave, value}) => {\n    const editor = useSlate();\n    return (\n      <Button\n        active={isMarkActive(editor, format)}\n        onMouseDown={(event) => {\n          event.preventDefault();\n          toggleMark(editor, format);\n          onSave(value);\n        }}\n      >\n          <Icon>{icon}</Icon>\n      </Button>\n    );\n  };\n\n\nconst MarkButton = ({ format, icon }) => {\n  const editor = useSlate();\n  return (\n    <Button\n      active={isMarkActive(editor, format)}\n      onMouseDown={(event) => {\n        event.preventDefault();\n        toggleMark(editor, format);\n       \n      }}\n    >\n        <Icon>{icon}</Icon>\n    </Button>\n  );\n};\n\nconst insertImage = (editor, url) => {\n  const text = { text: \"\" };\n  const image = { type: \"image\", url, children: [text] };\n  Transforms.insertNodes(editor, image);\n};\n\nconst isImageUrl = (url) => {\n  if (!url) return false;\n  if (!isUrl(url)) return false;\n  const ext = new URL(url).pathname.split(\".\").pop();\n  return imageExtensions.includes(ext);\n};\n\n\nconst initialValue = [\n  {\n    type: \"paragraph\",\n    children: [\n      { text: \"This is editable \" },\n    ],\n    }\n];\n\nconst Button = React.forwardRef(\n    (\n      {\n        className,\n        active,\n        reversed,\n        ...props\n      },\n      ref) => (\n      <span\n        {...props}\n        ref={ref}\n        className={cx(\n          className,\n          css`\n            cursor: pointer;\n            color: ${reversed\n              ? active\n                ? 'white'\n                : '#aaa'\n              : active\n              ? 'black'\n              : '#ccc'};\n          `\n        )}\n      />\n    )\n  )\n\n  const Icon = React.forwardRef(\n    (\n      { className, ...props },\n      ref\n    ) => (\n      <span\n        {...props}\n        ref={ref}\n        className={cx(\n          'material-icons',\n          className,\n          css`\n            font-size: 18px;\n            vertical-align: text-bottom;\n          `\n        )}\n      />\n    )\n  )\n\n  const Toolbar = React.forwardRef(\n    (\n      { className, ...props },\n      ref\n    ) => (\n      <Menu\n        {...props}\n        ref={ref}\n        className={cx(\n          className,\n          css`\n            display: flex;\n            width: 100%;\n            flex-direction: row;\n            align-items: start;\n            padding: 1px 18px 17px;\n            margin: 0 -20px;\n            border-bottom: 2px solid #eee;\n            margin-bottom: 20px;`\n        )}\n      />\n    )\n  )\n\n  const Menu = React.forwardRef(\n    (\n      { className, ...props },\n      ref\n    ) => (\n      <div\n        {...props}\n        ref={ref}\n        className={cx(\n          className,\n          css`\n            & > * {\n              display: inline-block;\n             \n            }\n            & > * + * {\n              margin-left: 15px;\n            }\n          `\n        )}\n      />\n    )\n  )\nexport default TextEditor;\n"]},"metadata":{},"sourceType":"module"}