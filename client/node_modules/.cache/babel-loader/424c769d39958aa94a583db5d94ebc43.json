{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/pages/Login/Login.js\";\nimport React, { useState } from \"react\";\nimport Page from \"../../components/Page/Page\";\nimport styles from \"../../components/Page/Page.module.css\";\nimport { useHistory } from 'react-router-dom';\n\nconst Login = props => {\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const onEmailChange = e => {\n    setFormData({ ...formData,\n      email: e.target.value\n    });\n  };\n\n  const onPasswordChange = e => {\n    setFormData({ ...formData,\n      password: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    registerUser();\n  };\n\n  const registerUser = async () => {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formData)\n    };\n    const response = await fetch(`/auth/login`, requestOptions);\n    const data = await response.json();\n\n    if (response.status === 400) {\n      alert(data.error);\n    } else if (response.status !== 200) {\n      throw Error(data.message);\n    } else {\n      alert(\"New User Registered\");\n      history.push('/');\n    }\n  };\n\n  const contents = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: styles[\"headline-form\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"horizontal\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n    className: styles[\"headline-form-input\"],\n    type: \"text\",\n    value: formData.email,\n    onChange: onEmailChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"horizontal\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n    className: styles[\"headline-form-input\"],\n    type: \"password\",\n    value: formData.password,\n    onChange: onPasswordChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Sign Up\",\n    className: styles[\"submit-button\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n  return /*#__PURE__*/React.createElement(Page, {\n    sidebarFixTopOffset: 0,\n    mainPane: contents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/pages/Login/Login.js"],"names":["React","useState","Page","styles","useHistory","Login","props","history","formData","setFormData","email","password","onEmailChange","e","target","value","onPasswordChange","handleSubmit","preventDefault","registerUser","requestOptions","method","headers","body","JSON","stringify","response","fetch","data","json","status","alert","error","Error","message","push","contents"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,MAAP,MAAmB,uCAAnB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AACA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAM,CAACI,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC;AACvCS,IAAAA,KAAK,EAAE,EADgC;AAEvCC,IAAAA,QAAQ,EAAE;AAF6B,GAAD,CAAxC;;AAOA,QAAMC,aAAa,GAAIC,CAAD,IAAO;AAC3BJ,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeE,MAAAA,KAAK,EAAEG,CAAC,CAACC,MAAF,CAASC;AAA/B,KAAD,CAAX;AACD,GAFD;;AAIA,QAAMC,gBAAgB,GAAIH,CAAD,IAAO;AAC9BJ,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeG,MAAAA,QAAQ,EAAEE,CAAC,CAACC,MAAF,CAASC;AAAlC,KAAD,CAAX;AACD,GAFD;;AAIA,QAAME,YAAY,GAAIJ,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACK,cAAF;AACAC,IAAAA,YAAY;AACb,GAHD;;AAKA,QAAMA,YAAY,GAAG,YAAY;AAE/B,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFY;AAGrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAejB,QAAf;AAHe,KAAvB;AAMA,UAAMkB,QAAQ,GAAG,MAAMC,KAAK,CAAE,aAAF,EAAgBP,cAAhB,CAA5B;AACA,UAAMQ,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,QAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AAC3BC,MAAAA,KAAK,CAACH,IAAI,CAACI,KAAN,CAAL;AACD,KAFD,MAEO,IAAIN,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AAClC,YAAMG,KAAK,CAACL,IAAI,CAACM,OAAN,CAAX;AACA,KAFK,MAEA;AACLH,MAAAA,KAAK,CAAC,qBAAD,CAAL;AACAxB,MAAAA,OAAO,CAAC4B,IAAR,CAAa,GAAb;AACA;AAEH,GApBD;;AAsBA,QAAMC,QAAQ,gBACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,QAAQ,EAAEnB,YADZ;AAEE,IAAA,SAAS,EAAEd,MAAM,CAAC,eAAD,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,YAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AACE,IAAA,SAAS,EAAEA,MAAM,CAAC,qBAAD,CADnB;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAEK,QAAQ,CAACE,KAHlB;AAIE,IAAA,QAAQ,EAAEE,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAJF,eAaE;AAAK,IAAA,SAAS,EAAET,MAAM,CAAC,YAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,IAAA,SAAS,EAAEA,MAAM,CAAC,qBAAD,CADnB;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEK,QAAQ,CAACG,QAHlB;AAIE,IAAA,QAAQ,EAAEK,gBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAbF,eAsBE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,SAAS,EAAEb,MAAM,CAAC,eAAD,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,CADF,CADF;AAiCA,sBAAO,oBAAC,IAAD;AAAM,IAAA,mBAAmB,EAAE,CAA3B;AAA8B,IAAA,QAAQ,EAAEiC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CA9ED;;AAgFA,eAAe/B,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Page from \"../../components/Page/Page\";\nimport styles from \"../../components/Page/Page.module.css\";\nimport {useHistory} from 'react-router-dom'\nconst Login = (props) => {\n  const history = useHistory()\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n\n\n  const onEmailChange = (e) => {\n    setFormData({ ...formData, email: e.target.value });\n  };\n\n  const onPasswordChange = (e) => {\n    setFormData({ ...formData, password: e.target.value });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    registerUser()\n  }\n\n  const registerUser = async () => {\n\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(formData),\n    };\n\n    const response = await fetch(`/auth/login`, requestOptions);\n    const data = await response.json();\n \n    if (response.status === 400) {\n      alert(data.error);\n    } else if (response.status !== 200) {\n      throw Error(data.message);\n     } else{\n      alert(\"New User Registered\");\n      history.push('/')\n     }\n    \n  };\n\n  const contents = (\n    <div>\n      <form\n        onSubmit={handleSubmit}\n        className={styles[\"headline-form\"]}\n      >\n        <div className={styles[\"horizontal\"]}>\n          <label>Email: </label>\n          <input\n            className={styles[\"headline-form-input\"]}\n            type=\"text\"\n            value={formData.email}\n            onChange={onEmailChange}\n          />\n        </div>\n        <div className={styles[\"horizontal\"]}>\n          <label>Password: </label>\n          <input\n            className={styles[\"headline-form-input\"]}\n            type=\"password\"\n            value={formData.password}\n            onChange={onPasswordChange}\n          />\n        </div>\n        <input\n          type=\"submit\"\n          value=\"Sign Up\"\n          className={styles[\"submit-button\"]}\n        />\n      </form>\n    </div>\n  );\n\n  return <Page sidebarFixTopOffset={0} mainPane={contents} />;\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}