{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/pages/Articles/ArticlePage.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport SmallCard from \"../../components/Cards/SmallCard/SmallCard.js\";\nimport MediumCard from \"../../components/Cards/MediumCard/MediumCard.js\";\nimport LargeCard from \"../../components/Cards/LargeCard/LargeCard.js\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport Card from \"../../components/Cards/Card.js\";\nimport styles from \"./ArticlePage.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst ArticlePage = props => {\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [sidePanelFixed, setSidePanelFix] = useState(false);\n  const headerBoxRef = useRef();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    const fixNavbar = e => {\n      if (window.scrollY > headerBoxRef.current.clientHeight - 66 - 35 + 644) {\n        setSidePanelFix(true);\n      } else {\n        setSidePanelFix(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", fixNavbar);\n    return () => {\n      window.removeEventListener(\"scroll\", fixNavbar);\n    };\n  }, [sidePanelFixed]);\n  const [article, setArticle] = useState({\n    title: \"\",\n    author: \"\",\n    date: \"\",\n    sections: [],\n    images: []\n  });\n  const largeCardRef = useRef();\n  useEffect(() => {\n    const getArticle = async () => {\n      const response = await fetch(\"/articles/page\" + id);\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    getArticle().then(res => {\n      setArticle({\n        title: res.title,\n        author: res.author,\n        date: res.date,\n        image: res.image,\n        sections: res.sections\n      });\n    });\n  }, [article.title]);\n\n  const getLinkFunction = linkType => {\n    switch (linkType) {\n      case Card.LinkType[\"video-youtube\"]:\n        return props.playVideo;\n\n      case Card.LinkType[\"article-internal\"]:\n        return articleLink => {\n          history.push(articleLink);\n        };\n\n      default:\n        break;\n    }\n  };\n\n  const renderOnceSidePanel = /*#__PURE__*/React.createElement(SidePanel, {\n    sideBarClicked: props.sideBarClicked,\n    setSideBarClicked: props.setSideBarClicked,\n    vidArray: [{\n      title: \"Podcast 1\",\n      image: props.getImageLink(\"jbG9LJs_Npg\"),\n      LinkType: Card.LinkType[\"video-youtube\"],\n      onClick: getLinkFunction(Card.LinkType[\"video-youtube\"]),\n      link: props.getEmbedPlayerLink(\"jbG9LJs_Npg\")\n    }, {\n      title: \"Podcast 2\",\n      image: props.getImageLink(\"g-4UdaC2-F8\"),\n      LinkType: Card.LinkType[\"video-youtube\"],\n      onClick: getLinkFunction(Card.LinkType[\"video-youtube\"]),\n      link: props.getEmbedPlayerLink(\"g-4UdaC2-F8\")\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"overarching\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"primary-color-background\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"ArticlePage\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    ref: headerBoxRef,\n    navbarClicked: props.navbarClicked,\n    setNavbarClicked: props.setNavbarClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"headline\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LargeCard, {\n    title: article.title,\n    author: article.author,\n    date: article.date,\n    image: article.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"content-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"main-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"main-pane-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }), article.sections.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, item.hasOwnProperty(\"subheading\") ? /*#__PURE__*/React.createElement(\"h2\", {\n      className: styles[\"subheading\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, item.subheading) : item.hasOwnProperty(\"paragraph\") ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, item.paragraph.text) : item.hasOwnProperty(\"image\") ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles[\"main-pane-item\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      className: styles[\"image-container\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.image.src,\n      alt: item.image.caption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"figcaption\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 27\n      }\n    }, \"Picture:\"), \" \", item.image.caption))) : \"\");\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"side-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SmallCard, {\n    title: \"Podcast 1\",\n    image: props.getImageLink(\"jbG9LJs_Npg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  })), sidePanelFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: props.topOffset,\n      right: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, renderOnceSidePanel) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: props.topOffset\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, renderOnceSidePanel)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"footer-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default ArticlePage;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/pages/Articles/ArticlePage.js"],"names":["React","useState","useEffect","useRef","SmallCard","MediumCard","LargeCard","SidePanel","Card","styles","Header","Footer","useHistory","useParams","ArticlePage","props","id","history","sidePanelFixed","setSidePanelFix","headerBoxRef","window","scrollTo","fixNavbar","e","scrollY","current","clientHeight","addEventListener","removeEventListener","article","setArticle","title","author","date","sections","images","largeCardRef","getArticle","response","fetch","body","json","status","Error","message","then","res","image","getLinkFunction","linkType","LinkType","playVideo","articleLink","push","renderOnceSidePanel","sideBarClicked","setSideBarClicked","getImageLink","onClick","link","getEmbedPlayerLink","navbarClicked","setNavbarClicked","map","item","hasOwnProperty","subheading","paragraph","text","src","caption","position","top","topOffset","right","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport SmallCard from \"../../components/Cards/SmallCard/SmallCard.js\";\nimport MediumCard from \"../../components/Cards/MediumCard/MediumCard.js\";\nimport LargeCard from \"../../components/Cards/LargeCard/LargeCard.js\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport Card from \"../../components/Cards/Card.js\";\nimport styles from \"./ArticlePage.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport {useHistory, useParams} from 'react-router-dom'\n\n\nconst ArticlePage = (props) => {\n  const {id} = useParams()\n  const history = useHistory();\n  const [sidePanelFixed, setSidePanelFix] = useState(false);\n  const headerBoxRef = useRef()\n  useEffect(() => {\n    window.scrollTo(0,0);\n  },[])\n  useEffect(() => {\n    const fixNavbar = (e) => {\n      if (window.scrollY >  (headerBoxRef.current.clientHeight - 66 - 35 + 644  )) {\n       \n        setSidePanelFix(true);\n      } else {\n        setSidePanelFix(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", fixNavbar);\n    return () => {\n      window.removeEventListener(\"scroll\", fixNavbar);\n    };\n  },[sidePanelFixed]);\n\n  const [article, setArticle] = useState({\n    title: \"\",\n    author: \"\",\n    date: \"\",\n    sections: [],\n    images: [],\n  });\n\n\n  \n  const largeCardRef = useRef();\n  useEffect(() => {\n    const getArticle = async () => {\n      const response = await fetch(\"/articles/page\" + id);\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n\n      return body;\n    };\n\n\n    getArticle().then((res) => {\n      setArticle({\n        title: res.title,\n        author: res.author,\n        date: res.date,\n        image: res.image,\n        sections: res.sections,\n      });\n    });\n\n  }, [article.title]);\n\n  const getLinkFunction = (linkType) => {\n    switch (linkType) {\n      case Card.LinkType[\"video-youtube\"]:\n        return props.playVideo;\n      case Card.LinkType[\"article-internal\"]:\n        return ((articleLink) => {\n          history.push(articleLink);\n        });\n      default:\n        break;\n    }\n  };\n  const renderOnceSidePanel =  (<SidePanel\n    sideBarClicked={props.sideBarClicked}\n    setSideBarClicked={props.setSideBarClicked}\n     vidArray={[\n       {\n         title: \"Podcast 1\",\n         image: props.getImageLink(\"jbG9LJs_Npg\"),\n         LinkType: Card.LinkType[\"video-youtube\"],\n         onClick: getLinkFunction(Card.LinkType[\"video-youtube\"]),\n         link: props.getEmbedPlayerLink(\"jbG9LJs_Npg\"),\n       },\n       {\n         title: \"Podcast 2\",\n         image: props.getImageLink(\"g-4UdaC2-F8\"),\n         LinkType: Card.LinkType[\"video-youtube\"],\n         onClick: getLinkFunction(Card.LinkType[\"video-youtube\"]),\n         link: props.getEmbedPlayerLink(\"g-4UdaC2-F8\"),\n       },\n     ]}\n   />)\n\n\n  return (\n    <div className={styles[\"overarching\"]}>\n      <div className={styles[\"primary-color-background\"]}></div>\n      <div className={styles[\"ArticlePage\"]}>\n        <Header ref={headerBoxRef} navbarClicked={props.navbarClicked} setNavbarClicked={props.setNavbarClicked}/>\n        <div className={styles[\"headline\"]}>\n          <LargeCard\n            title={article.title}\n            author={article.author}\n            date={article.date}\n            image={article.image}\n          />\n        </div>\n        <div className={styles[\"content-pane\"]}>\n          <div className={styles[\"main-pane\"]}>\n            <div className={styles[\"main-pane-item\"]}></div>\n\n            {article.sections.map((item) => {\n              return (\n                <div>\n                  {item.hasOwnProperty(\"subheading\") ? (\n                    <h2 className={styles[\"subheading\"]}>{item.subheading}</h2>\n                  ) : item.hasOwnProperty(\"paragraph\") ? (\n                    <p>{item.paragraph.text}</p>\n                  ) : item.hasOwnProperty(\"image\") ? (\n                    <div className={styles[\"main-pane-item\"]}>\n                      <figure className={styles[\"image-container\"]}>\n                        <img src={item.image.src} alt={item.image.caption} />\n                        <figcaption>\n                          <strong>Picture:</strong> {item.image.caption}\n                        </figcaption>\n                      </figure>\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n              );\n            })}\n          </div>\n\n          <div className={styles[\"side-pane\"]}>\n          <SmallCard\n            title=\"Podcast 1\"\n            image={props.getImageLink(\"jbG9LJs_Npg\")}\n          />\n          </div>\n          {sidePanelFixed ? (\n          <div style={{ position: \"fixed\", top: (props.topOffset) , right: \"0px\"}}>\n                   {/* <div style={{ position: \"fixed\", top: \"103.5px\", right: \"0px\"}}> */}\n            {renderOnceSidePanel}\n          </div>\n        \n      ) : (\n        <div style={{marginTop: (props.topOffset)}}>\n          {renderOnceSidePanel}\n        </div>\n      )}\n       \n  \n        </div>\n\n        <div className={styles[\"footer-container\"]}>\n          <Footer />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ArticlePage;\n"]},"metadata":{},"sourceType":"module"}