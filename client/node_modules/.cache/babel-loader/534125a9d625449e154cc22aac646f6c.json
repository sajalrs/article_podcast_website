{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/Page/Page.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport styles from \"./Page.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport AudioPlayer from \"../../components/AudioPlayer/AudioPlayer\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\n\nconst Page = props => {\n  const offsetInitial = useRef(50);\n  const [topOffset, setTopOffset] = useState(offsetInitial.current);\n  const [navFixed, changeNavFix] = useState(false);\n  const [isActive, setActive] = useState(false); // const [boxHeight, setBoxHeight] = useState(202);\n\n  const audioPlayerBoxRef = useRef();\n  const [audioPlayerFixed, setAudioPlayerFixed] = useState(false);\n  const footerBoxRef = useRef();\n  const [sidebarClicked, setSidebarClicked] = useState(false);\n  const [sidebarFixed, setSidebarFixed] = useState(false);\n  const [navbarClicked, setNavbarClicked] = useState(false);\n  const contentPaneBoxRef = useRef();\n  const headerBoxRef = useRef();\n  const sidebarFixTopOffset = useRef(props.sidebarFixTopOffset);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []); // useEffect(() => {\n  //   const fixNavbar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight) {\n  //       changeNavFix(true);\n  //     } else {\n  //       changeNavFix(false);\n  //     }\n  //   };\n  //   const fixSidebar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset.current && !sidebarFixed) {\n  //       setSidebarFixed(true);\n  //     } else {\n  //       if(sidebarFixed){\n  //         setSidebarFixed(false);\n  //       }\n  //     }\n  //   };\n  //   window.addEventListener(\"scroll\", fixSidebar);\n  //   window.addEventListener(\"scroll\", fixNavbar);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixSidebar);\n  //     window.removeEventListener(\"scroll\", fixNavbar);\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    const scrollEvents = e => {\n      const curScroll = window.scrollY; // console.log(\n      //   `scroll: ${curScroll} header: ${headerBoxRef.current.clientHeight} content: ${contentPaneBoxRef.current.clientHeight} footer: ${footerBoxRef.current.clientHeight}`\n      // );\n\n      if (curScroll > headerBoxRef.current.clientHeight) {\n        changeNavFix(true);\n\n        if (curScroll > 2 * (headerBoxRef.current.clientHeight + sidebarFixTopOffset.current)) {\n          setSidebarFixed(true);\n\n          if (curScroll > contentPaneBoxRef.current.clientHeight - headerBoxRef.current.clientHeight - footerBoxRef.current.clientHeight) {\n            setAudioPlayerFixed(false);\n          } else {\n            setAudioPlayerFixed(true);\n          }\n        } else {\n          setSidebarFixed(false);\n          setAudioPlayerFixed(false);\n        }\n      } else {\n        changeNavFix(false);\n        setSidebarFixed(false);\n        setAudioPlayerFixed(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", scrollEvents);\n    return () => {\n      window.removeEventListener(\"scroll\", scrollEvents);\n    };\n  }); // useEffect(() => {\n  //   const body = document.body,\n  //   html = document.documentElement;\n  // const height = Math.max(\n  //   body.scrollHeight,\n  //   body.offsetHeight,\n  //   html.clientHeight,\n  //   html.scrollHeight,\n  //   html.offsetHeight\n  // );\n  //   if(audioPlayerBoxRef.current.clientHeight !== boxHeight){\n  //     setBoxHeight(Math.max(audioPlayerBoxRef.current.clientHeight, boxHeight))\n  //   }\n  //     const fixAudioPlayer = (e) => {\n  //     if (\n  //       window.scrollY >\n  //       height - 2 * (footerBoxRef.current.clientHeight + boxHeight)\n  //     ) {\n  //       setAudioPlayerFixed(false);\n  //     } else {\n  //       setAudioPlayerFixed(true);\n  //     }\n  //   };\n  //   window.addEventListener(\"scroll\", fixAudioPlayer);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixAudioPlayer);\n  //   };\n  // });\n\n  useEffect(() => {\n    if (sidebarClicked) {\n      if (navbarClicked) {\n        setNavbarClicked(false);\n      }\n    } else {\n      clearAllBodyScrollLocks();\n    }\n  }, [sidebarClicked]);\n  useEffect(() => {\n    if (navbarClicked) {\n      setTopOffset(topOffset + 140);\n      sidebarFixTopOffset.current += 140;\n      setSidebarClicked(false);\n    } else {\n      if (topOffset != offsetInitial.current) {\n        setTopOffset(topOffset - 140);\n        sidebarFixTopOffset.current -= 140;\n      }\n    }\n  }, [navbarClicked]); // useEffect(() => {\n  //   const fixSidebar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset && !sidebarFixed) {\n  //       setSidebarFixed(true);\n  //     } else {\n  //       if(sidebarFixed){\n  //         setSidebarFixed(false);\n  //       }\n  //     }\n  //   };\n  //   window.addEventListener(\"scroll\", fixSidebar);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixSidebar);\n  //   };\n  // });\n\n  const renderOnceNavbar = /*#__PURE__*/React.createElement(Navbar, {\n    sidebarClicked: sidebarClicked,\n    setSidebarClicked: setSidebarClicked,\n    navbarClicked: navbarClicked,\n    setNavbarClicked: setNavbarClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  });\n  const renderOnceSidePanel = /*#__PURE__*/React.createElement(SidePanel, {\n    headerBoxRef: headerBoxRef,\n    sidebarClicked: sidebarClicked,\n    setSidebarClicked: setSidebarClicked,\n    sidebarFixed: sidebarFixed,\n    setSidebarFixed: setSidebarFixed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 5\n    }\n  });\n  const renderOnceAudioPlayer = /*#__PURE__*/React.createElement(AudioPlayer, {\n    ref: audioPlayerBoxRef,\n    isActive: isActive,\n    setActive: setActive,\n    audioRef: props.audioRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"overarching\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 5\n    }\n  }, props.headline ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"primary-color-background\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"Page\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    ref: headerBoxRef,\n    className: styles[\"Header\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }), navFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"66px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      width: \"100%\",\n      top: \"0px\",\n      zIndex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, renderOnceNavbar)) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, renderOnceNavbar), props.headline ? props.headline : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"content-pane-side-bar\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: contentPaneBoxRef,\n    className: styles[\"content-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"main-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, props.mainPane), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"side-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"side-bar\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, sidebarFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: topOffset,\n      right: \"0px\",\n      zIndex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, renderOnceSidePanel) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: sidebarFixTopOffset.current\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  }, renderOnceSidePanel))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"footer-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, audioPlayerFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      width: \"100%\",\n      bottom: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 15\n    }\n  }, renderOnceAudioPlayer)) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, renderOnceAudioPlayer), /*#__PURE__*/React.createElement(Footer, {\n    ref: footerBoxRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Page;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/Page/Page.js"],"names":["React","useEffect","useRef","useState","SidePanel","styles","Header","Footer","Navbar","AudioPlayer","disableBodyScroll","enableBodyScroll","clearAllBodyScrollLocks","Page","props","offsetInitial","topOffset","setTopOffset","current","navFixed","changeNavFix","isActive","setActive","audioPlayerBoxRef","audioPlayerFixed","setAudioPlayerFixed","footerBoxRef","sidebarClicked","setSidebarClicked","sidebarFixed","setSidebarFixed","navbarClicked","setNavbarClicked","contentPaneBoxRef","headerBoxRef","sidebarFixTopOffset","window","scrollTo","scrollEvents","e","curScroll","scrollY","clientHeight","addEventListener","removeEventListener","renderOnceNavbar","renderOnceSidePanel","renderOnceAudioPlayer","audioRef","headline","width","height","position","top","zIndex","mainPane","right","marginTop","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport styles from \"./Page.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport AudioPlayer from \"../../components/AudioPlayer/AudioPlayer\";\nimport {\n  disableBodyScroll,\n  enableBodyScroll,\n  clearAllBodyScrollLocks,\n} from \"body-scroll-lock\";\n\nconst Page = (props) => {\n  const offsetInitial = useRef(50);\n  const [topOffset, setTopOffset] = useState(offsetInitial.current);\n  const [navFixed, changeNavFix] = useState(false);\n  const [isActive, setActive] = useState(false);\n  // const [boxHeight, setBoxHeight] = useState(202);\n  const audioPlayerBoxRef = useRef();\n  const [audioPlayerFixed, setAudioPlayerFixed] = useState(false);\n  const footerBoxRef = useRef();\n  const [sidebarClicked, setSidebarClicked] = useState(false);\n  const [sidebarFixed, setSidebarFixed] = useState(false);\n  const [navbarClicked, setNavbarClicked] = useState(false);\n  const contentPaneBoxRef = useRef();\n  const headerBoxRef = useRef();\n  const sidebarFixTopOffset = useRef(props.sidebarFixTopOffset);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  // useEffect(() => {\n  //   const fixNavbar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight) {\n  //       changeNavFix(true);\n  //     } else {\n  //       changeNavFix(false);\n  //     }\n  //   };\n\n  //   const fixSidebar = (e) => {\n\n  //     if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset.current && !sidebarFixed) {\n  //       setSidebarFixed(true);\n\n  //     } else {\n  //       if(sidebarFixed){\n  //         setSidebarFixed(false);\n\n  //       }\n  //     }\n  //   };\n\n  //   window.addEventListener(\"scroll\", fixSidebar);\n  //   window.addEventListener(\"scroll\", fixNavbar);\n\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixSidebar);\n  //     window.removeEventListener(\"scroll\", fixNavbar);\n\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    const scrollEvents = (e) => {\n      const curScroll = window.scrollY;\n      \n      // console.log(\n      //   `scroll: ${curScroll} header: ${headerBoxRef.current.clientHeight} content: ${contentPaneBoxRef.current.clientHeight} footer: ${footerBoxRef.current.clientHeight}`\n      // );\n\n      if (curScroll > headerBoxRef.current.clientHeight) {\n        changeNavFix(true);\n        if (\n          curScroll >\n          2 * (headerBoxRef.current.clientHeight + sidebarFixTopOffset.current) \n        ) {\n          setSidebarFixed(true);\n          if (\n            curScroll >\n            contentPaneBoxRef.current.clientHeight -\n              headerBoxRef.current.clientHeight -\n              footerBoxRef.current.clientHeight\n          ) {\n            setAudioPlayerFixed(false);\n          } else {\n            setAudioPlayerFixed(true);\n          }\n        } else {\n          setSidebarFixed(false);\n          setAudioPlayerFixed(false);\n        }\n      } else {\n        changeNavFix(false);\n        setSidebarFixed(false);\n        setAudioPlayerFixed(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", scrollEvents);\n\n    return () => {\n      window.removeEventListener(\"scroll\", scrollEvents);\n    };\n  });\n\n  // useEffect(() => {\n  //   const body = document.body,\n  //   html = document.documentElement;\n\n  // const height = Math.max(\n  //   body.scrollHeight,\n  //   body.offsetHeight,\n  //   html.clientHeight,\n  //   html.scrollHeight,\n  //   html.offsetHeight\n  // );\n  //   if(audioPlayerBoxRef.current.clientHeight !== boxHeight){\n  //     setBoxHeight(Math.max(audioPlayerBoxRef.current.clientHeight, boxHeight))\n  //   }\n  //     const fixAudioPlayer = (e) => {\n\n  //     if (\n  //       window.scrollY >\n  //       height - 2 * (footerBoxRef.current.clientHeight + boxHeight)\n  //     ) {\n  //       setAudioPlayerFixed(false);\n  //     } else {\n  //       setAudioPlayerFixed(true);\n  //     }\n\n  //   };\n\n  //   window.addEventListener(\"scroll\", fixAudioPlayer);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixAudioPlayer);\n  //   };\n  // });\n\n  useEffect(() => {\n    if (sidebarClicked) {\n      if (navbarClicked) {\n        setNavbarClicked(false);\n      }\n    } else {\n      clearAllBodyScrollLocks();\n    }\n  }, [sidebarClicked]);\n  useEffect(() => {\n    if (navbarClicked) {\n      setTopOffset(topOffset + 140);\n      sidebarFixTopOffset.current += 140;\n      setSidebarClicked(false);\n    } else {\n      if (topOffset != offsetInitial.current) {\n        setTopOffset(topOffset - 140);\n        sidebarFixTopOffset.current -= 140;\n      }\n    }\n  }, [navbarClicked]);\n\n  // useEffect(() => {\n  //   const fixSidebar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset && !sidebarFixed) {\n  //       setSidebarFixed(true);\n\n  //     } else {\n  //       if(sidebarFixed){\n  //         setSidebarFixed(false);\n\n  //       }\n  //     }\n  //   };\n\n  //   window.addEventListener(\"scroll\", fixSidebar);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixSidebar);\n  //   };\n  // });\n\n  const renderOnceNavbar = (\n    <Navbar\n      sidebarClicked={sidebarClicked}\n      setSidebarClicked={setSidebarClicked}\n      navbarClicked={navbarClicked}\n      setNavbarClicked={setNavbarClicked}\n    />\n  );\n\n  const renderOnceSidePanel = (\n    <SidePanel\n      headerBoxRef={headerBoxRef}\n      sidebarClicked={sidebarClicked}\n      setSidebarClicked={setSidebarClicked}\n      sidebarFixed={sidebarFixed}\n      setSidebarFixed={setSidebarFixed}\n    />\n  );\n\n  const renderOnceAudioPlayer = (\n    <AudioPlayer\n      ref={audioPlayerBoxRef}\n      isActive={isActive}\n      setActive={setActive}\n      audioRef={props.audioRef}\n    />\n  );\n\n  return (\n    <div className={styles[\"overarching\"]}>\n      {props.headline ? (\n        <div className={styles[\"primary-color-background\"]}></div>\n      ) : null}\n      <div className={styles[\"Page\"]}>\n        <Header ref={headerBoxRef} className={styles[\"Header\"]} />\n        {navFixed ? (\n          <div>\n            <div style={{ width: \"100%\", height: \"66px\" }}></div>\n            <div\n              style={{\n                position: \"fixed\",\n                width: \"100%\",\n                top: \"0px\",\n                zIndex: 1,\n              }}\n            >\n              {renderOnceNavbar}\n            </div>\n          </div>\n        ) : (\n          <div style={{ position: \"relative\", width: \"100%\" }}>\n            {renderOnceNavbar}\n          </div>\n        )}\n        {props.headline ? props.headline : null}\n        <div className={styles[\"content-pane-side-bar\"]}>\n          <div ref={contentPaneBoxRef} className={styles[\"content-pane\"]}>\n            <div className={styles[\"main-pane\"]}>{props.mainPane}</div>\n            <div className={styles[\"side-pane\"]}></div>\n          </div>\n          <div className={styles[\"side-bar\"]}>\n            {sidebarFixed ? (\n              <div\n                style={{\n                  position: \"fixed\",\n                  top: topOffset,\n                  right: \"0px\",\n                  zIndex: 1,\n                }}\n              >\n                {renderOnceSidePanel}\n              </div>\n            ) : (\n              <div style={{ marginTop: sidebarFixTopOffset.current }}>\n                {renderOnceSidePanel}\n              </div>\n            )}\n          </div>\n        </div>\n        <div className={styles[\"footer-container\"]}>\n          {audioPlayerFixed ? (\n            <div>\n              <div\n                style={{\n                  width: \"100%\",\n                }}\n              ></div>\n              <div style={{ position: \"fixed\", width: \"100%\", bottom: \"0px\" }}>\n                {renderOnceAudioPlayer}\n              </div>\n            </div>\n          ) : (\n            <div style={{ position: \"relative\", width: \"100%\" }}>\n              {renderOnceAudioPlayer}\n            </div>\n          )}\n          <Footer ref={footerBoxRef} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}