{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/Page/Page.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport styles from \"./Page.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport AudioPlayer from \"../../components/AudioPlayer/AudioPlayer\";\nimport { useSelector } from \"react-redux\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\n\nconst Page = props => {\n  const topOffset = useState(0);\n  const [navFixed, changeNavFix] = useState(false);\n  const [isActive, setActive] = useState(false);\n  const audioPlayerBoxRef = useRef();\n  const [audioPlayerFixed, setAudioPlayerFixed] = useState(false);\n  const footerBoxRef = useRef();\n  const [sidebarClicked, setSidebarClicked] = useState(false);\n  const [sidebarFixed, setSidebarFixed] = useState(false);\n  const [navbarClicked, setNavbarClicked] = useState(false);\n  const sidebarFixTopOffset = useRef(0);\n  const headerBoxRef = useRef();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    const body = document.body,\n          html = document.documentElement;\n    const height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n\n    const fixNavbar = e => {\n      if (window.scrollY > headerBoxRef.current.clientHeight) {\n        changeNavFix(true);\n      } else {\n        changeNavFix(false);\n      }\n    };\n\n    const fixSidebar = e => {\n      if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset.current && !sidebarFixed) {\n        setSidebarFixed(true);\n      } else {\n        if (sidebarFixed) {\n          setSidebarFixed(false);\n        }\n      }\n    };\n\n    const fixAudioPlayer = e => {\n      if (window.scrollY > height - 2 * (footerBoxRef.current.clientHeight + 220)) {\n        setAudioPlayerFixed(false);\n      } else {\n        console.log(\"Running\");\n        setAudioPlayerFixed(true);\n      }\n    };\n\n    window.addEventListener(\"scroll\", fixSidebar);\n    window.addEventListener(\"scroll\", fixNavbar);\n    window.addEventListener(\"scroll\", fixAudioPlayer);\n    return () => {\n      window.removeEventListener(\"scroll\", fixSidebar);\n      window.removeEventListener(\"scroll\", fixNavbar);\n      window.removeEventListener(\"scroll\", fixAudioPlayer);\n    };\n  }, []); // useEffect(() => {\n  //   const body = document.body,\n  //   html = document.documentElement;\n  // const height = Math.max(\n  //   body.scrollHeight,\n  //   body.offsetHeight,\n  //   html.clientHeight,\n  //   html.scrollHeight,\n  //   html.offsetHeight\n  // );\n  //   if(audioPlayerBoxRef.current.clientHeight !== boxHeight){\n  //     setBoxHeight(Math.max(audioPlayerBoxRef.current.clientHeight, boxHeight))\n  //   }\n  //     const fixAudioPlayer = (e) => {\n  //     if (\n  //       window.scrollY >\n  //       height - 2 * (footerBoxRef.current.clientHeight + boxHeight)\n  //     ) {\n  //       setAudioPlayerFixed(false);\n  //     } else {\n  //       setAudioPlayerFixed(true);\n  //     }\n  //   };\n  //   window.addEventListener(\"scroll\", fixAudioPlayer);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixAudioPlayer);\n  //   };\n  // });\n\n  useEffect(() => {\n    if (sidebarClicked) {\n      if (navbarClicked) {\n        setNavbarClicked(false);\n      }\n    } else {\n      clearAllBodyScrollLocks();\n    }\n  }, [sidebarClicked]); // useEffect(() => {\n  //   const fixSidebar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset && !sidebarFixed) {\n  //       setSidebarFixed(true);\n  //     } else {\n  //       if(sidebarFixed){\n  //         setSidebarFixed(false);\n  //       } \n  //     }\n  //   };\n  //   window.addEventListener(\"scroll\", fixSidebar);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixSidebar);\n  //   };\n  // });\n\n  const renderOnceNavbar = /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  });\n  const renderOnceSidePanel = /*#__PURE__*/React.createElement(SidePanel, {\n    headerBoxRef: headerBoxRef,\n    sidebarClicked: sidebarClicked,\n    setSidebarClicked: setSidebarClicked,\n    sidebarFixed: sidebarFixed,\n    setSidebarFixed: setSidebarFixed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 5\n    }\n  });\n  const renderOnceAudioPlayer = /*#__PURE__*/React.createElement(AudioPlayer, {\n    ref: audioPlayerBoxRef,\n    isActive: isActive,\n    setActive: setActive,\n    audioRef: props.audioRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"Page\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    ref: headerBoxRef,\n    className: styles[\"Header\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }), navFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"66px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      width: \"100%\",\n      top: \"0px\",\n      zIndex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, renderOnceNavbar)) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, renderOnceNavbar), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"content-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"main-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, props.mainPane.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${styles[\"main-pane-item\"]}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 20\n      }\n    }, item);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"side-pane\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }), sidebarFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: topOffset,\n      right: \"0px\",\n      zIndex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, renderOnceSidePanel) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: topOffset\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, renderOnceSidePanel)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"footer-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }, audioPlayerFixed && sidebarFixed ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: boxHeight\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      width: \"100%\",\n      bottom: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }, renderOnceAudioPlayer)) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, renderOnceAudioPlayer), /*#__PURE__*/React.createElement(Footer, {\n    ref: footerBoxRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Page;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/Page/Page.js"],"names":["React","useEffect","useRef","useState","SidePanel","styles","Header","Footer","Navbar","AudioPlayer","useSelector","disableBodyScroll","enableBodyScroll","clearAllBodyScrollLocks","Page","props","topOffset","navFixed","changeNavFix","isActive","setActive","audioPlayerBoxRef","audioPlayerFixed","setAudioPlayerFixed","footerBoxRef","sidebarClicked","setSidebarClicked","sidebarFixed","setSidebarFixed","navbarClicked","setNavbarClicked","sidebarFixTopOffset","headerBoxRef","window","scrollTo","body","document","html","documentElement","height","Math","max","scrollHeight","offsetHeight","clientHeight","fixNavbar","e","scrollY","current","fixSidebar","fixAudioPlayer","console","log","addEventListener","removeEventListener","renderOnceNavbar","renderOnceSidePanel","renderOnceAudioPlayer","audioRef","width","position","top","zIndex","mainPane","map","item","right","marginTop","boxHeight","bottom"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport SidePanel from \"../../components/SidePanel/SidePanel.js\";\nimport styles from \"./Page.module.css\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer/Footer\";\nimport Navbar from \"../../components/Navbar/Navbar\"\nimport AudioPlayer from \"../../components/AudioPlayer/AudioPlayer\"\nimport { useSelector } from \"react-redux\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\n\nconst Page = (props) => {\n \n  const topOffset = useState(0)\n  const [navFixed, changeNavFix] = useState(false);\n  const [isActive, setActive] = useState(false);\n  const audioPlayerBoxRef = useRef();\n  const [audioPlayerFixed, setAudioPlayerFixed] = useState(false);\n  const footerBoxRef = useRef();\n  const [sidebarClicked,setSidebarClicked] = useState(false);\n  const [sidebarFixed, setSidebarFixed] = useState(false);\n  const [navbarClicked,setNavbarClicked] = useState(false);\n  const sidebarFixTopOffset=useRef(0);\n  const headerBoxRef = useRef();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    const body = document.body,\n    html = document.documentElement;\n\n  const height = Math.max(\n    body.scrollHeight,\n    body.offsetHeight,\n    html.clientHeight,\n    html.scrollHeight,\n    html.offsetHeight\n  );\n    \n    const fixNavbar = (e) => {\n      if (window.scrollY > headerBoxRef.current.clientHeight) {\n        changeNavFix(true);\n      } else {\n        changeNavFix(false);\n      }\n    };\n\n    const fixSidebar = (e) => {\n     \n      if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset.current && !sidebarFixed) {\n        setSidebarFixed(true);\n        \n      } else {\n        if(sidebarFixed){\n          setSidebarFixed(false);\n\n        } \n      }\n    };\n\n      const fixAudioPlayer = (e) => {\n  \n    \n      if (\n        window.scrollY >\n        height - 2 * (footerBoxRef.current.clientHeight + 220)\n      ) {\n        setAudioPlayerFixed(false);\n      } else {\n        console.log(\"Running\")\n        setAudioPlayerFixed(true);\n      }\n    \n    };\n    window.addEventListener(\"scroll\", fixSidebar);\n    window.addEventListener(\"scroll\", fixNavbar);\n    window.addEventListener(\"scroll\",  fixAudioPlayer);\n    \n    return () => {\n      window.removeEventListener(\"scroll\", fixSidebar);\n      window.removeEventListener(\"scroll\", fixNavbar);\n      window.removeEventListener(\"scroll\", fixAudioPlayer);\n    };\n  }, []);\n  // useEffect(() => {\n  //   const body = document.body,\n  //   html = document.documentElement;\n\n  // const height = Math.max(\n  //   body.scrollHeight,\n  //   body.offsetHeight,\n  //   html.clientHeight,\n  //   html.scrollHeight,\n  //   html.offsetHeight\n  // );\n  //   if(audioPlayerBoxRef.current.clientHeight !== boxHeight){\n  //     setBoxHeight(Math.max(audioPlayerBoxRef.current.clientHeight, boxHeight))\n  //   }\n  //     const fixAudioPlayer = (e) => {\n  \n    \n  //     if (\n  //       window.scrollY >\n  //       height - 2 * (footerBoxRef.current.clientHeight + boxHeight)\n  //     ) {\n  //       setAudioPlayerFixed(false);\n  //     } else {\n  //       setAudioPlayerFixed(true);\n  //     }\n    \n  //   };\n\n  //   window.addEventListener(\"scroll\", fixAudioPlayer);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixAudioPlayer);\n  //   };\n  // });\n\n  useEffect(() => {\n\n  \n    if (sidebarClicked) {\n      if (navbarClicked) {\n        setNavbarClicked(false);\n      }\n    } else {\n      clearAllBodyScrollLocks();\n    }\n\n\n\n  }\n  , [sidebarClicked])\n\n\n \n  // useEffect(() => {\n  //   const fixSidebar = (e) => {\n  //     if (window.scrollY > headerBoxRef.current.clientHeight + sidebarFixTopOffset && !sidebarFixed) {\n  //       setSidebarFixed(true);\n        \n  //     } else {\n  //       if(sidebarFixed){\n  //         setSidebarFixed(false);\n\n  //       } \n  //     }\n  //   };\n\n  //   window.addEventListener(\"scroll\", fixSidebar);\n  //   return () => {\n  //     window.removeEventListener(\"scroll\", fixSidebar);\n  //   };\n  // });\n\n  const renderOnceNavbar = (\n    <Navbar/>\n  );\n\n  const renderOnceSidePanel = (\n    <SidePanel \n    headerBoxRef={headerBoxRef} \n    sidebarClicked={sidebarClicked}\n    setSidebarClicked={setSidebarClicked}\n    sidebarFixed={sidebarFixed}\n    setSidebarFixed={setSidebarFixed}\n     />\n  );\n\n  const renderOnceAudioPlayer = (\n    <AudioPlayer\n      ref={audioPlayerBoxRef}\n      isActive={isActive}\n      setActive={setActive}\n      audioRef={props.audioRef}\n    />\n  );\n\n\n  return (\n    <div className={styles[\"Page\"]}>\n      <Header ref={headerBoxRef} className={styles[\"Header\"]} />\n      {navFixed ? (\n        <div>\n          <div style={{ width: \"100%\", height: \"66px\" }}></div>\n          <div style={{ position: \"fixed\", width: \"100%\", top: \"0px\", zIndex: 1 }}>\n            {renderOnceNavbar}\n          </div>\n        </div>\n      ) : (\n        <div style={{ position: \"relative\", width: \"100%\" }}>\n          {renderOnceNavbar}\n        </div>\n      )}\n      <div className={styles[\"content-pane\"]}>\n        <div className={styles[\"main-pane\"]}>\n          {props.mainPane.map((item) => {\n            return <div className={`${styles[\"main-pane-item\"]}`}>{item}</div>;\n          })}\n        </div>\n        <div className={styles[\"side-pane\"]}></div>\n        {sidebarFixed ? (\n          <div\n            style={{\n              position: \"fixed\",\n              top: topOffset,\n              right: \"0px\",\n              zIndex: 1,\n            }}\n          >\n            {renderOnceSidePanel}\n          </div>\n        ) : (\n          <div style={{ marginTop: topOffset }}>{renderOnceSidePanel}</div>\n        )}\n      </div>\n\n      <div className={styles[\"footer-container\"]}>\n      {audioPlayerFixed && sidebarFixed ?(\n        <div>\n          <div\n            style={{\n              width: \"100%\",\n              height: boxHeight\n            }}\n          ></div>\n          <div style={{ position: \"fixed\", width: \"100%\", bottom: \"0px\" }}>\n            {renderOnceAudioPlayer}\n          </div>\n        </div>\n      ) : (\n        <div style={{ position: \"relative\", width: \"100%\" }}>\n          {renderOnceAudioPlayer}\n        </div>\n      )}\n        <Footer ref={footerBoxRef}/>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;"]},"metadata":{},"sourceType":"module"}