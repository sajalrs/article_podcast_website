{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/TextEditor/TextEditor.js\";\nimport React, { useState, useMemo, useEffect, useCallback } from \"react\";\nimport { createEditor, Transforms, Editor, Text, Node } from \"slate\";\nimport { Slate, Editable, withReact, useFocused, useSelected, useEditor } from \"slate-react\";\nimport imageExtensions from 'image-extensions';\nimport isUrl from \"is-url\";\nimport { withHistory } from \"slate-history\";\n\nconst TextEditor = () => {\n  const [value, setValue] = useState([{\n    type: \"paragraph\",\n    children: [{\n      text: \"A line of text in a paragraph.\"\n    }]\n  }]);\n  const editor = useMemo(() => withImages(withHistory(withReact(createEditor()), [])));\n  const renderElement = useCallback(props => {\n    switch (props.element.type) {\n      case \"code\":\n        return /*#__PURE__*/React.createElement(CodeElement, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 16\n          }\n        }));\n\n      default:\n        return /*#__PURE__*/React.createElement(DefaultElement, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 16\n          }\n        }));\n    }\n  }, []);\n  const renderLeaf = useCallback(props => {\n    return /*#__PURE__*/React.createElement(Leaf, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    }));\n  }, []);\n  const CustomEditor = {\n    isBoldMarkActive(editor) {\n      const [match] = Editor.nodes(editor, {\n        match: n => n.bold === true,\n        universal: true\n      });\n      return !!match;\n    },\n\n    isItalicMarkActive(editor) {\n      const [match] = Editor.nodes(editor, {\n        match: n => n.italic === true,\n        universal: true\n      });\n      return !!match;\n    },\n\n    isCodeBlockActive(editor) {\n      const [match] = Editor.nodes(editor, {\n        match: n => n.type === \"code\"\n      });\n      return !!match;\n    },\n\n    toggleBoldMark(editor) {\n      const isActive = CustomEditor.isBoldMarkActive(editor);\n      Transforms.setNodes(editor, {\n        bold: isActive ? null : true\n      }, {\n        match: n => Text.isText(n),\n        split: true\n      });\n    },\n\n    toggleItalicMark(editor) {\n      const isActive = CustomEditor.isItalicMarkActive(editor);\n      Transforms.setNodes(editor, {\n        italic: isActive ? null : true\n      }, {\n        match: n => Text.isText(n),\n        split: true\n      });\n    },\n\n    toggleCodeBlock(editor) {\n      const isActive = CustomEditor.isCodeBlockActive(editor);\n      Transforms.setNodes(editor, {\n        type: isActive ? null : \"code\"\n      }, {\n        match: n => Editor.isBlock(editor, n)\n      });\n    }\n\n  };\n  return /*#__PURE__*/React.createElement(Slate, {\n    editor: editor,\n    value: value,\n    onChange: newValue => setValue(newValue),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      CustomEditor.toggleBoldMark(editor);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Bold\")), /*#__PURE__*/React.createElement(Editable, {\n    renderElement: renderElement,\n    renderLeaf: renderLeaf,\n    onKeyDown: event => {\n      if (!event.ctrlKey) {\n        return;\n      }\n\n      switch (event.key) {\n        case \"`\":\n          {\n            event.preventDefault();\n            CustomEditor.toggleCodeBlock(editor);\n            break;\n          }\n\n        case \"b\":\n          {\n            event.preventDefault();\n            CustomEditor.toggleBoldMark(editor);\n            break;\n          }\n\n        case \"i\":\n          {\n            event.preventDefault();\n            CustomEditor.toggleItalicMark(editor);\n            break;\n          }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst DefaultElement = props => {\n  return /*#__PURE__*/React.createElement(\"p\", Object.assign({}, props.attributes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 10\n    }\n  }), props.children);\n};\n\nconst CodeElement = props => {\n  return /*#__PURE__*/React.createElement(\"pre\", Object.assign({}, props.attributes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"code\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, props.children));\n};\n\nconst Leaf = props => {\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({}, props.attributes, {\n    style: {\n      fontWeight: props.leaf.bold ? \"bold\" : \"normal\",\n      fontStyle: props.leaf.italic ? \"italic\" : \"normal\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }), props.children);\n};\n\nexport default TextEditor;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/TextEditor/TextEditor.js"],"names":["React","useState","useMemo","useEffect","useCallback","createEditor","Transforms","Editor","Text","Node","Slate","Editable","withReact","useFocused","useSelected","useEditor","imageExtensions","isUrl","withHistory","TextEditor","value","setValue","type","children","text","editor","withImages","renderElement","props","element","renderLeaf","CustomEditor","isBoldMarkActive","match","nodes","n","bold","universal","isItalicMarkActive","italic","isCodeBlockActive","toggleBoldMark","isActive","setNodes","isText","split","toggleItalicMark","toggleCodeBlock","isBlock","newValue","event","preventDefault","ctrlKey","key","DefaultElement","attributes","CodeElement","Leaf","fontWeight","leaf","fontStyle"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useEffect, useCallback } from \"react\";\nimport { createEditor, Transforms, Editor, Text, Node} from \"slate\";\nimport {\n    Slate,\n  Editable,\n  withReact,\n  useFocused,\n  useSelected,\n  useEditor,\n} from \"slate-react\";\nimport imageExtensions from 'image-extensions'\nimport isUrl from \"is-url\";\nimport { withHistory } from \"slate-history\";\n\nconst TextEditor = () => {\n  const [value, setValue] = useState([\n    {\n      type: \"paragraph\",\n      children: [{ text: \"A line of text in a paragraph.\" }],\n    },\n  ]);\n  const editor = useMemo(() =>\n   withImages(withHistory(withReact(createEditor()), [])));\n\n\n\n  const renderElement = useCallback((props) => {\n    switch (props.element.type) {\n      case \"code\":\n        return <CodeElement {...props} />;\n      default:\n        return <DefaultElement {...props} />;\n    }\n  }, []);\n\n  const renderLeaf = useCallback((props) => {\n    return <Leaf {...props} />;\n  }, []);\n\n  const CustomEditor = {\n    isBoldMarkActive(editor) {\n      const [match] = Editor.nodes(editor, {\n        match: (n) => n.bold === true,\n        universal: true,\n      });\n\n      return !!match;\n    },\n\n    isItalicMarkActive(editor) {\n      const [match] = Editor.nodes(editor, {\n        match: (n) => n.italic === true,\n        universal: true,\n      });\n\n      return !!match;\n    },\n\n    isCodeBlockActive(editor) {\n      const [match] = Editor.nodes(editor, {\n        match: (n) => n.type === \"code\",\n      });\n      return !!match;\n    },\n\n    toggleBoldMark(editor) {\n      const isActive = CustomEditor.isBoldMarkActive(editor);\n      Transforms.setNodes(\n        editor,\n        { bold: isActive ? null : true },\n        { match: (n) => Text.isText(n), split: true }\n      );\n    },\n\n    toggleItalicMark(editor) {\n      const isActive = CustomEditor.isItalicMarkActive(editor);\n      Transforms.setNodes(\n        editor,\n        { italic: isActive ? null : true },\n        { match: (n) => Text.isText(n), split: true }\n      );\n    },\n\n    toggleCodeBlock(editor) {\n      const isActive = CustomEditor.isCodeBlockActive(editor);\n      Transforms.setNodes(\n        editor,\n        { type: isActive ? null : \"code\" },\n        { match: (n) => Editor.isBlock(editor, n) }\n      );\n    },\n  };\n\n  return (\n    <Slate\n      editor={editor}\n      value={value}\n      onChange={(newValue) => setValue(newValue)}\n    >\n      <div>\n        <button\n          onMouseDown={(event) => {\n            event.preventDefault();\n            CustomEditor.toggleBoldMark(editor);\n          }}\n        >\n          Bold\n        </button>\n      </div>\n\n      <Editable\n        renderElement={renderElement}\n        renderLeaf={renderLeaf}\n        onKeyDown={(event) => {\n          if (!event.ctrlKey) {\n            return;\n          }\n\n          switch (event.key) {\n            case \"`\": {\n              event.preventDefault();\n              CustomEditor.toggleCodeBlock(editor);\n              break;\n            }\n\n            case \"b\": {\n              event.preventDefault();\n              CustomEditor.toggleBoldMark(editor);\n              break;\n            }\n\n            case \"i\": {\n              event.preventDefault();\n              CustomEditor.toggleItalicMark(editor);\n              break;\n            }\n          }\n        }}\n      />\n    </Slate>\n  );\n};\n\nconst DefaultElement = (props) => {\n  return <p {...props.attributes}>{props.children}</p>;\n};\n\nconst CodeElement = (props) => {\n  return (\n    <pre {...props.attributes}>\n      <code>{props.children}</code>\n    </pre>\n  );\n};\n\nconst Leaf = (props) => {\n  return (\n    <span\n      {...props.attributes}\n      style={{\n        fontWeight: props.leaf.bold ? \"bold\" : \"normal\",\n        fontStyle: props.leaf.italic ? \"italic\" : \"normal\",\n      }}\n    >\n      {props.children}\n    </span>\n  );\n};\n\nexport default TextEditor;\n"]},"metadata":{},"sourceType":"module"}