{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/App.js\";\nimport React, { useEffect, useRef } from \"react\";\nimport Home from \"./pages/Home/Home.js\";\nimport CreateArticle from \"./pages/CreateArticle\";\nimport Articles from \"./pages/Articles/Articles\";\nimport Podcasts from \"./pages/Podcasts/Podcasts\";\nimport ArticlePage from \"./pages/Articles/ArticlePage.js\";\nimport Edit from \"./pages/Articles/Edit.js\";\nimport \"./App.css\";\nimport VideoPlayer from \"./components/VideoPlayer/VideoPlayer.js\";\nimport TermsOfService from \"./pages/Legal/TermsOfService/TermsOfService\";\nimport Privacy from \"./pages/Legal/Privacy/Privacy\";\nimport AboutUs from \"./pages/AboutUs/AboutUsClone\";\nimport SignUp from \"./pages/SignUp/SignUp\";\nimport Login from \"./pages/Login/Login\";\nimport axios from \"axios\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setAudioPlayerRef, setIsMobile, setSocket } from \"./redux/actions\";\nimport io from \"socket.io-client\";\nimport ContactUs from \"./pages/ContactUs/ContactUs.js\";\n\nconst App = () => {\n  const audioPlayerRef = useRef();\n  const dispatch = useDispatch();\n  const scrollLockRef = useRef();\n  useEffect(() => {\n    const socket = io.connect();\n    dispatch(setSocket(socket));\n    return () => {\n      socket.emit(\"disconnect\");\n      socket.disconnect();\n    };\n  }, []);\n  useEffect(() => {\n    const getCSRFToken = async () => {\n      const tokenResponse = await axios.get(\"/csrf-token\");\n      const token = await tokenResponse.data;\n\n      if (tokenResponse.status !== 200) {\n        throw Error(token.message);\n      }\n\n      return token;\n    };\n\n    getCSRFToken().then(res => {\n      axios.defaults.headers.common = {\n        \"X-CSRF-Token\": res.csrfToken\n      };\n    });\n  }, []);\n  useEffect(() => {\n    dispatch(setAudioPlayerRef(audioPlayerRef));\n  }, [audioPlayerRef]);\n  useEffect(() => {\n    const updateIsMobile = () => {\n      if (window.innerWidth <= 550) {\n        dispatch(setIsMobile(true));\n      } else {\n        dispatch(setIsMobile(false));\n      }\n    };\n\n    window.addEventListener(\"resize\", updateIsMobile);\n    return () => {\n      window.addEventListener(\"resize\", updateIsMobile);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overarching\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: scrollLockRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(VideoPlayer, {\n    scrollLockRef: scrollLockRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"audio\", {\n    ref: audioPlayerRef,\n    src: \"https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a\",\n    type: \"audio/mpeg\",\n    \"data-testid\": \"html5-audio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Home, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/articles/:id/edit\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Edit, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/articles/:id\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(ArticlePage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/articles\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Articles, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/podcasts\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Podcasts, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/legal/privacy\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Privacy, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/legal/termsofservice\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(TermsOfService, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/about\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(AboutUs, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/contact\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(ContactUs, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/create/articles\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(CreateArticle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(SignUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Login, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 24\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 24\n        }\n      }, \"404\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/App.js"],"names":["React","useEffect","useRef","Home","CreateArticle","Articles","Podcasts","ArticlePage","Edit","VideoPlayer","TermsOfService","Privacy","AboutUs","SignUp","Login","axios","BrowserRouter","Switch","Route","useDispatch","setAudioPlayerRef","setIsMobile","setSocket","io","ContactUs","App","audioPlayerRef","dispatch","scrollLockRef","socket","connect","emit","disconnect","getCSRFToken","tokenResponse","get","token","data","status","Error","message","then","res","defaults","headers","common","csrfToken","updateIsMobile","window","innerWidth","addEventListener"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport Home from \"./pages/Home/Home.js\";\nimport CreateArticle from \"./pages/CreateArticle\";\nimport Articles from \"./pages/Articles/Articles\";\nimport Podcasts from \"./pages/Podcasts/Podcasts\";\nimport ArticlePage from \"./pages/Articles/ArticlePage.js\";\nimport Edit from \"./pages/Articles/Edit.js\";\nimport \"./App.css\";\nimport VideoPlayer from \"./components/VideoPlayer/VideoPlayer.js\";\nimport TermsOfService from \"./pages/Legal/TermsOfService/TermsOfService\";\nimport Privacy from \"./pages/Legal/Privacy/Privacy\";\nimport AboutUs from \"./pages/AboutUs/AboutUsClone\";\nimport SignUp from \"./pages/SignUp/SignUp\";\nimport Login from \"./pages/Login/Login\";\nimport axios from \"axios\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setAudioPlayerRef, setIsMobile, setSocket } from \"./redux/actions\";\nimport io from \"socket.io-client\";\nimport ContactUs from \"./pages/ContactUs/ContactUs.js\";\n\nconst App = () => {\n  const audioPlayerRef = useRef();\n  const dispatch = useDispatch();\n  const scrollLockRef = useRef();\n\n  useEffect(() => {\n    const socket = io.connect();\n    dispatch(setSocket(socket));\n\n    return () => {\n      socket.emit(\"disconnect\");\n      socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    const getCSRFToken = async () => {\n      const tokenResponse = await axios.get(\"/csrf-token\");\n      const token = await tokenResponse.data;\n\n      if (tokenResponse.status !== 200) {\n        throw Error(token.message);\n      }\n\n      return token;\n    };\n\n    getCSRFToken().then((res) => {\n      axios.defaults.headers.common = {\n        \"X-CSRF-Token\": res.csrfToken,\n      };\n    });\n  }, []);\n\n  useEffect(() => {\n    dispatch(setAudioPlayerRef(audioPlayerRef));\n  }, [audioPlayerRef]);\n\n  useEffect(() => {\n    const updateIsMobile = () => {\n      if (window.innerWidth <= 550) {\n        dispatch(setIsMobile(true));\n      } else {\n        dispatch(setIsMobile(false));\n      }\n    };\n    window.addEventListener(\"resize\", updateIsMobile);\n    return () => {\n      window.addEventListener(\"resize\", updateIsMobile);\n    };\n  }, []);\n  return (\n    <div className=\"overarching\">\n      <div ref={scrollLockRef}></div>\n      <VideoPlayer scrollLockRef={scrollLockRef} />\n\n      <audio\n        ref={audioPlayerRef}\n        src=\"https://anchor.fm/s/333e122c/podcast/play/19475297/sponsor/a3205tm/https%3A%2F%2Fd3ctxlq1ktw2nl.cloudfront.net%2Fstaging%2F2020-09-12%2F9ca05751732f6a1351863756bdfb662b.m4a\"\n        type=\"audio/mpeg\"\n        data-testid=\"html5-audio\"\n      />\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={() => {\n                return <Home />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/articles/:id/edit\"\n              render={() => {\n                return <Edit />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/articles/:id\"\n              render={() => {\n                return <ArticlePage />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/articles\"\n              render={() => {\n                return <Articles />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/podcasts\"\n              render={() => {\n                return <Podcasts />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/legal/privacy\"\n              render={() => {\n                return <Privacy />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/legal/termsofservice\"\n              render={() => {\n                return <TermsOfService />;\n              }}\n            />\n            <Route\n              exact\n              path=\"/about\"\n              render={() => {\n                return <AboutUs />;\n              }}\n            />\n            <Route\n              path=\"/contact\"\n              render={() => {\n                return <ContactUs />;\n              }}\n            />\n            <Route\n              path=\"/create/articles\"\n              render={() => {\n                return <CreateArticle />;\n              }}\n            />\n            <Route\n              path=\"/register\"\n              render={() => {\n                return <SignUp />;\n              }}\n            />\n            <Route\n              path=\"/login\"\n              render={() => {\n                return <Login />;\n              }}\n            />\n            <Route\n              path=\"/\"\n              render={() => {\n                return <div>404</div>;\n              }}\n            />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}