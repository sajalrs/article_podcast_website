{"ast":null,"code":"var _jsxFileName = \"/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/Cards/Card.js\";\nimport React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { playAudio, playVideo } from \"../../redux/actions\";\nimport styles from \"../../components/Page/Page.module.css\";\n\nconst editButton = onClick => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    paddingTop: \"0px\",\n    paddingBottom: \"0px\",\n    margin: \"10px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: `${styles[\"submit-button\"]}`,\n  onClick: () => onClick(),\n  style: {\n    padding: \"10px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"label\", {\n  style: {\n    paddingRight: \"0px\",\n    paddingLeft: \"0px\",\n    fontSize: \"0.95rem\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 7\n  }\n}, \"EDIT\", \" \", /*#__PURE__*/React.createElement(\"i\", {\n  className: `fas fa-edit`,\n  style: {\n    fontSize: \"0.9rem\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }\n}))));\n\nconst pendingApproval = /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    paddingTop: \"0px\",\n    paddingBottom: \"0px\",\n    margin: \"10px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: `${styles[\"submit-button\"]}`,\n  onClick: () => {\n    alert(\"Please wait for article to be approved by moderator\");\n  },\n  style: {\n    padding: \"10px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"label\", {\n  style: {\n    paddingRight: \"0px\",\n    paddingLeft: \"0px\",\n    fontSize: \"0.95rem\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }\n}, \"PENDING APPROVAL\", \" \", /*#__PURE__*/React.createElement(\"i\", {\n  className: `fas fa-hourglass-half`,\n  style: {\n    fontSize: \"0.9rem\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }\n}))));\nconst Card = {\n  ContentType: Object.freeze({\n    \"article-internal\": 1,\n    \"article-external\": 2,\n    \"video-youtube\": 3,\n    \"video-external\": 4,\n    \"audio-internal\": 5\n  }),\n  formatDate: dateString => {\n    const date = new Date(dateString);\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    const day = date.getDate();\n    const monthIndex = date.getMonth();\n    const year = date.getFullYear();\n    let hours = date.getHours() % 12;\n    hours = hours === 0 ? 12 : hours;\n    let minutes = date.getMinutes();\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    const meridian = date.getHours() < 12 === 0 ? \"AM\" : \"PM\";\n    const time = `${hours}:${minutes} ${meridian}`;\n    const fullDate = day + \" \" + monthNames[monthIndex] + \", \" + year;\n    return {\n      date: fullDate,\n      time: time\n    };\n  }\n};\n\nconst CardComponent = props => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const audioPlayerRef = useSelector(state => state.audioPlayer.audioPlayerRef);\n\n  const edit = () => {\n    alert(props.isApproved);\n    history.push(`${props.link}/edit`);\n  };\n\n  const onClick = () => {\n    switch (props.contentType) {\n      case Card.ContentType[\"article-internal\"]:\n        history.push(props.link);\n        break;\n\n      case Card.ContentType[\"audio-internal\"]:\n        dispatch(playAudio(props.index));\n        break;\n\n      case Card.ContentType[\"video-youtube\"]:\n        dispatch(playVideo(props.link));\n        break;\n\n      default:\n    }\n  };\n\n  const isPlayable = props.contentType === Card.ContentType[\"video-external\"] || props.contentType === Card.ContentType[\"video-youtube\"] || props.contentType === Card.ContentType[\"audio-internal\"];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, !props.isEditable && editButton(edit), !props.isApproved && pendingApproval), /*#__PURE__*/React.createElement(\"article\", {\n    className: props.styles ? props.styles.card : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ImageContainer, {\n    styles: props.styles,\n    image: props.image,\n    onClick: onClick,\n    audioPlayerRef: props.contentType === Card.ContentType[\"audio-internal\"] ? audioPlayerRef : null,\n    isPlayable: isPlayable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CardBody, {\n    styles: props.styles,\n    title: props.title,\n    text: props.text,\n    date: props.date ? Card.formatDate(props.date).date : null,\n    author: props.author,\n    onClick: onClick,\n    audioPlayerRef: props.contentType === Card.ContentType[\"audio-internal\"] ? audioPlayerRef : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  })));\n};\n\nconst ImageContainer = props => {\n  return props.image ? /*#__PURE__*/React.createElement(\"div\", {\n    className: props.styles[\"img-container\"],\n    onClick: () => {\n      if (props.audioPlayerRef) {\n        props.audioPlayerRef.current.play();\n      }\n\n      props.onClick();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: props.image,\n    loading: \"lazy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, props.isPlayable && /*#__PURE__*/React.createElement(\"i\", {\n    className: `${props.styles[\"play-button\"]} ${props.styles[\"far\"]} ${props.styles[\"fa-play-circle\"]} far fa-play-circle`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }))) : null;\n};\n\nconst CardBody = props => {\n  return props.title || props.author || props.date || props.text ? /*#__PURE__*/React.createElement(\"div\", {\n    className: props.styles[\"card-body\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 5\n    }\n  }, props.title && /*#__PURE__*/React.createElement(\"h2\", {\n    onClick: () => {\n      if (props.audioPlayerRef) {\n        props.audioPlayerRef.current.play();\n      }\n\n      props.onClick();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, props.title), props.author || props.date ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, props.author && /*#__PURE__*/React.createElement(\"span\", {\n    className: props.styles[\"author\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, props.author), props.date && /*#__PURE__*/React.createElement(\"span\", {\n    className: props.styles[\"date\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, props.date)) : null, props.text && /*#__PURE__*/React.createElement(\"p\", {\n    className: props.styles[\"body-content\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, props.text)) : null;\n};\n\nexport { CardComponent };\nexport { Card };","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/client/src/components/Cards/Card.js"],"names":["React","useSelector","useDispatch","useHistory","playAudio","playVideo","styles","editButton","onClick","paddingTop","paddingBottom","margin","padding","paddingRight","paddingLeft","fontSize","pendingApproval","alert","Card","ContentType","Object","freeze","formatDate","dateString","date","Date","monthNames","day","getDate","monthIndex","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","meridian","time","fullDate","CardComponent","props","dispatch","history","audioPlayerRef","state","audioPlayer","edit","isApproved","push","link","contentType","index","isPlayable","display","flexDirection","isEditable","card","image","title","text","author","ImageContainer","current","play","CardBody"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { playAudio, playVideo } from \"../../redux/actions\";\nimport styles from \"../../components/Page/Page.module.css\"\n\nconst editButton = (onClick) => (\n  <div\n    style={{ paddingTop: \"0px\", paddingBottom: \"0px\", margin: \"10px\" }}\n   \n  >\n    <div\n      className={`${styles[\"submit-button\"]}`}\n      onClick={() => onClick()}\n      style={{padding: \"10px\"}}\n    >\n      <label style={{ paddingRight: \"0px\", paddingLeft: \"0px\", fontSize: \"0.95rem\" }}>\n        EDIT{\" \"}\n        <i\n          className={`fas fa-edit`}\n          style={{ fontSize: \"0.9rem\"}}\n        />\n      </label>\n    </div>\n  </div>\n);\n\n\n\nconst pendingApproval = (\n  <div\n    style={{ paddingTop: \"0px\", paddingBottom: \"0px\", margin: \"10px\" }}\n   \n  >\n    <div\n      className={`${styles[\"submit-button\"]}`}\n      onClick={() => {alert(\"Please wait for article to be approved by moderator\")}}\n      style={{padding: \"10px\"}}\n    >\n      <label style={{ paddingRight: \"0px\", paddingLeft: \"0px\", fontSize: \"0.95rem\" }}>\n        PENDING APPROVAL{\" \"}\n        <i\n          className={`fas fa-hourglass-half`}\n          style={{ fontSize: \"0.9rem\"}}\n        />\n      </label>\n    </div>\n  </div>\n);\n\n\nconst Card = {\n  ContentType: Object.freeze({\n    \"article-internal\": 1,\n    \"article-external\": 2,\n    \"video-youtube\": 3,\n    \"video-external\": 4,\n    \"audio-internal\": 5,\n  }),\n  formatDate: (dateString) => {\n    const date = new Date(dateString);\n    const monthNames = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n\n    const day = date.getDate();\n    const monthIndex = date.getMonth();\n    const year = date.getFullYear();\n\n    let hours = date.getHours() % 12;\n    hours = hours === 0 ? 12 : hours;\n    let minutes = date.getMinutes();\n    minutes = minutes < 10 ? '0'+minutes: minutes;\n    const meridian = date.getHours() < 12 === 0 ? \"AM\" : \"PM\";\n\n    const time = `${hours}:${minutes} ${meridian}`;\n    const fullDate = day + \" \" + monthNames[monthIndex] + \", \" + year;\n    return { date: fullDate, time: time };\n  },\n};\n\nconst CardComponent = (props) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const audioPlayerRef = useSelector(\n    (state) => state.audioPlayer.audioPlayerRef\n  );\n\n  const edit = () => {\n    alert(props.isApproved);\n    history.push(`${props.link}/edit`);\n\n  }\n\n\n  const onClick = () => {\n    switch (props.contentType) {\n      case Card.ContentType[\"article-internal\"]:\n        history.push(props.link);\n        break;\n      case Card.ContentType[\"audio-internal\"]:\n        dispatch(playAudio(props.index));\n        break;\n      case Card.ContentType[\"video-youtube\"]:\n        dispatch(playVideo(props.link));\n        break;\n      default:\n    }\n  };\n\n  const isPlayable =\n    props.contentType === Card.ContentType[\"video-external\"] ||\n    props.contentType === Card.ContentType[\"video-youtube\"] ||\n    props.contentType === Card.ContentType[\"audio-internal\"];\n\n  return (\n    <div style={{display: \"flex\", flexDirection: \"column\"}}>\n    <div style={{display: \"flex\", flexDirection: \"row\"}}>\n      {!props.isEditable && editButton(edit)}\n      {!props.isApproved && pendingApproval}\n    </div>\n   \n    <article className={props.styles ? props.styles.card : \"\"}>\n      <ImageContainer\n        styles={props.styles}\n        image={props.image}\n        onClick={onClick}\n        audioPlayerRef={\n          props.contentType === Card.ContentType[\"audio-internal\"]\n            ? audioPlayerRef\n            : null\n        }\n        isPlayable={isPlayable}\n      />\n      <CardBody\n        styles={props.styles}\n        title={props.title}\n        text={props.text}\n        date={props.date ? Card.formatDate(props.date).date : null}\n        author={props.author}\n        onClick={onClick}\n        audioPlayerRef={\n          props.contentType === Card.ContentType[\"audio-internal\"]\n            ? audioPlayerRef\n            : null\n        }\n      />\n    </article>\n    </div>\n  );\n};\n\nconst ImageContainer = (props) => {\n  return props.image ? (\n    <div\n      className={props.styles[\"img-container\"]}\n      onClick={() => {\n        if (props.audioPlayerRef) {\n          props.audioPlayerRef.current.play();\n        }\n        props.onClick();\n      }}\n    >\n      <img src={props.image} loading=\"lazy\" />\n      <div>\n        {props.isPlayable && (\n          <i\n            className={`${props.styles[\"play-button\"]} ${props.styles[\"far\"]} ${props.styles[\"fa-play-circle\"]} far fa-play-circle`}\n          ></i>\n        )}\n      </div>\n    </div>\n  ) : null;\n};\n\nconst CardBody = (props) => {\n  return props.title || props.author || props.date || props.text ? (\n    <div className={props.styles[\"card-body\"]}>\n      {props.title && (\n        <h2\n          onClick={() => {\n            if (props.audioPlayerRef) {\n              props.audioPlayerRef.current.play();\n            }\n            props.onClick();\n          }}\n        >\n          {props.title}\n        </h2>\n      )}\n      {props.author || props.date ? (\n        <p>\n          {props.author && (\n            <span className={props.styles[\"author\"]}>{props.author}</span>\n          )}\n          {props.date && (\n            <span className={props.styles[\"date\"]}>{props.date}</span>\n          )}\n        </p>\n      ) : null}\n      {props.text && (\n        <p className={props.styles[\"body-content\"]}>{props.text}</p>\n      )}\n    </div>\n  ) : null;\n};\n\nexport { CardComponent };\nexport { Card };\n"]},"metadata":{},"sourceType":"module"}