{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from \"react\";\nimport Page from \"../components/Page/Page\";\nimport styles from \"../components/Page/Page.module.css\";\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport axios from \"axios\";\n\nconst RequestEmail = props => {\n  const history = useRouter();\n  const {\n    0: formData,\n    1: setFormData\n  } = useState({\n    email: \"\"\n  });\n\n  const onEmailChange = e => {\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n      email: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendEmailAddress();\n  };\n\n  const sendEmailAddress = () => {\n    const toPost = {\n      email: formData.email\n    };\n    const options = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    axios.post(\"/api/auth/forgotpassword\", JSON.stringify(toPost), options).then(res => {\n      alert(\"Password reset link sent to email\");\n      history.push(\"/\");\n    }).catch(err => {\n      if (err.response.status === 401 || err.response.status === 400) {\n        alert(err.response.data.error);\n      } else if (err.response.status !== 200) {\n        throw Error(err);\n      }\n    });\n  };\n\n  const contents = __jsx(\"div\", {\n    className: `${styles[\"main-pane-item\"]} ${styles[\"main-pane-item-centered\"]}`\n  }, __jsx(\"div\", {\n    className: `${styles[\"register-login-form\"]}`\n  }, __jsx(\"h2\", null, \"PASSWORD RESET\"), __jsx(\"div\", {\n    className: `${styles[\"register-login-form-padded\"]}`\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: styles[\"headline-form\"]\n  }, __jsx(\"div\", {\n    className: styles[\"horizontal\"]\n  }, __jsx(\"label\", null, \"Email: \"), __jsx(\"input\", {\n    className: styles[\"headline-form-input\"],\n    type: \"text\",\n    value: formData.email,\n    onChange: onEmailChange\n  })), __jsx(\"div\", {\n    className: styles[\"horizontal\"],\n    style: {\n      justifyContent: \"center\"\n    }\n  }, __jsx(\"label\", {\n    style: {\n      color: \"var(--primary-color)\",\n      fontSize: \"1rem\"\n    }\n  }, \"Enter your email to receive a password reset link\")), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Request\",\n    className: styles[\"submit-button\"]\n  })), __jsx(\"div\", {\n    className: styles[\"register-login-form-text\"],\n    style: {\n      color: \"#072339\"\n    }\n  }, __jsx(\"label\", null, __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", null, \"Back to Login Page\")))))));\n\n  return __jsx(Page, {\n    sidebarFixTopOffset: 0,\n    mainPane: contents\n  });\n};\n\nexport default RequestEmail;","map":{"version":3,"sources":["/home/sajalrs/ReactProgramming/article_podcast_website/pages/requestemail.js"],"names":["React","useState","Page","styles","useRouter","Link","axios","RequestEmail","props","history","formData","setFormData","email","onEmailChange","e","target","value","handleSubmit","preventDefault","sendEmailAddress","toPost","options","headers","post","JSON","stringify","then","res","alert","push","catch","err","response","status","data","error","Error","contents","justifyContent","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Page from \"../components/Page/Page\";\nimport styles from \"../components/Page/Page.module.css\";\nimport {useRouter} from 'next/router'\nimport Link from 'next/link'\nimport axios from \"axios\";\nconst RequestEmail = (props) => {\n  const history = useRouter();\n  const [formData, setFormData] = useState({\n    email: \"\",\n  });\n\n  const onEmailChange = (e) => {\n    setFormData({ ...formData, email: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    sendEmailAddress();\n  };\n\n  const sendEmailAddress = () => {\n    const toPost = {\n      email: formData.email,\n    };\n\n    const options = {\n      headers: { \"Content-Type\": \"application/json\" },\n    };\n\n    axios\n      .post(\"/api/auth/forgotpassword\", JSON.stringify(toPost), options)\n      .then((res) => {\n        alert(\"Password reset link sent to email\");\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        if (err.response.status === 401 || err.response.status === 400) {\n          alert(err.response.data.error);\n        } else if (err.response.status !== 200) {\n          throw Error(err);\n        }\n      });\n  };\n\n  const contents = (\n    <div\n      className={`${styles[\"main-pane-item\"]} ${styles[\"main-pane-item-centered\"]}`}\n    >\n      <div className={`${styles[\"register-login-form\"]}`}>\n        <h2>PASSWORD RESET</h2>\n        <div className={`${styles[\"register-login-form-padded\"]}`}>\n          <form onSubmit={handleSubmit} className={styles[\"headline-form\"]}>\n            <div className={styles[\"horizontal\"]}>\n              <label>Email: </label>\n              <input\n                className={styles[\"headline-form-input\"]}\n                type=\"text\"\n                value={formData.email}\n                onChange={onEmailChange}\n              />\n            </div>\n            <div className={styles[\"horizontal\"]} style={{justifyContent: \"center\"}}>\n              <label style={{color: \"var(--primary-color)\", fontSize: \"1rem\"}}>\n              Enter your email to receive a password reset link\n              </label>\n            </div>\n            <input\n              type=\"submit\"\n              value=\"Request\"\n              className={styles[\"submit-button\"]}\n            />\n          </form>\n          <div className={styles[\"register-login-form-text\"]} style={{color: \"#072339\"}}>\n            <label>\n            <Link href={\"/login\"}><a>Back to Login Page</a></Link>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return <Page sidebarFixTopOffset={0} mainPane={contents} />;\n};\n\nexport default RequestEmail;\n"]},"metadata":{},"sourceType":"module"}